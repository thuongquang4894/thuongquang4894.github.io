window.__require=function t(e,i,o){function n(r,c){if(!i[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var p=i[r]={exports:{}};e[r][0].call(p.exports,function(t){return n(e[r][1][t]||t)},p,p.exports,t,e,i,o)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({"TaiXiuDoubleMD5.Controller":[function(t,e,i){"use strict";cc._RF.push(e,"76610wWMb5N8LIQLeMQOR4d","TaiXiuDoubleMD5.Controller");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/VersionConfig"),c=t("../../../Lobby/LobbyScript/MiniGame"),s=t("../../../Lobby/LobbyScript/Script/common/App"),l=t("../../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),p=t("../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5"),u=t("../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient"),d=t("../TaiXiu1/TaiXiuMiniMD5.TaiXiuMiniMD5Controller"),h=cc._decorator,b=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taiXiu1Node=null,e.btnSwitch=null,e.taiXiu1=null,e.isShowTX1=!0,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.taiXiu1=this.taiXiu1Node.getComponent(d.default),i.instance=this,r.default.CPName},e.prototype.reOrder=function(){t.prototype.reOrder.call(this)},e.prototype.start=function(){var t=this;l.default.register(l.default.USER_LOGOUT,function(){t.node.active&&t.dismiss()},this),p.default.getInstance().addOnClose(function(){t.node.active&&t.dismiss()},this),u.default.getInstance().addOnClose(function(){t.node.active&&t.dismiss()},this)},e.prototype.show=function(){var e=this;switch(t.prototype.show.call(this),s.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.isShowTX1=!0,r.default.CPName){case r.default.CP_NAME_HT68:case r.default.CP_NAME_F69:case r.default.CP_NAME_R99_2:case r.default.CP_NAME_MARBLES99:case r.default.CP_NAME_SIN99:case r.default.CP_NAME_ZINGVIP:break;default:u.default.getInstance().checkConnect(function(){e.checkShow()})}p.default.getInstance().checkConnect(function(){e.taiXiu1.show(),e.checkShow()}),s.default.instance.buttonMiniGame.showTimeTaiXiu(!1),this.checkShow()},e.prototype.dismiss=function(){t.prototype.dismiss.call(this),s.default.instance.buttonMiniGame.showTimeTaiXiu(!0),this.taiXiu1.dismiss(),s.default.instance.hideGameMini("TaiXiuOverMd5")},e.prototype.checkShow=function(){this.isShowTX1?(this.taiXiu1.gamePlay.scale=1,this.taiXiu1.gamePlay.position=cc.Vec3.ZERO,this.taiXiu1.nodePanelChat.active=!0,this.taiXiu1.node.setSiblingIndex(1)):(this.taiXiu1.gamePlay.scale=.5,this.taiXiu1.gamePlay.position=cc.v3(-405,234,0),this.taiXiu1.nodePanelChat.active=!1,this.taiXiu1.layoutBet.active=!1)},e.prototype.actSwitch=function(){this.isShowTX1=!this.isShowTX1,this.checkShow()},e.instance=null,a([f(cc.Node)],e.prototype,"taiXiu1Node",void 0),a([f(cc.Node)],e.prototype,"btnSwitch",void 0),i=a([b],e)}(c.default);i.default=m,cc._RF.pop()},{"../../../Loading/src/VersionConfig":void 0,"../../../Lobby/LobbyScript/MiniGame":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5":void 0,"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient":void 0,"../TaiXiu1/TaiXiuMiniMD5.TaiXiuMiniMD5Controller":"TaiXiuMiniMD5.TaiXiuMiniMD5Controller"}],"TaiXiuMini2MD5.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"7d6736HtMxEb75ROMrphobs","TaiXiuMini2MD5.Cmd");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;var a,r=t("../../../Loading/src/Configs"),c=t("../../../Lobby/LobbyScript/Script/networks/Network.InPacket"),s=t("../../../Lobby/LobbyScript/Script/networks/Network.OutPacket"),l=cc._decorator;l.ccclass,l.property,function(t){var e=function(){function t(){}return t.SCRIBE=2e3,t.UNSCRIBE=2001,t.BET=2110,t.HISTORIES=2116,t.GAME_INFO=2111,t.UPDATE_TIME=2112,t.DICES_RESULT=2113,t.RESULT=2114,t.NEW_GAME=2115,t.LOG_CHAT=18003,t.SEND_CHAT=18e3,t.SCRIBE_CHAT=18001,t.UNSCRIBE_CHAT=18002,t}();t.Code=e;var i=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.SCRIBE),i.packHeader(),i.putShort(r.default.GameId.TaiXiu),i.putShort(r.default.App.MONEY_TYPE),i.updateSize(),i}return n(i,t),i}(s.default);t.SendScribe=i;var o=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.UNSCRIBE),i.packHeader(),i.putShort(r.default.GameId.TaiXiu),i.putShort(r.default.App.MONEY_TYPE),i.updateSize(),i}return n(i,t),i}(s.default);t.SendUnScribe=o;var a=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.SCRIBE_CHAT),i.packHeader(),i.updateSize(),i}return n(i,t),i}(s.default);t.SendScribeChat=a;var l=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.UNSCRIBE_CHAT),i.packHeader(),i.updateSize(),i}return n(i,t),i}(s.default);t.SendUnScribeChat=l;var p=function(t){function i(i){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.SEND_CHAT),o.packHeader(),o.putString(i),o.updateSize(),o}return n(i,t),i}(s.default);t.SendChat=p;var u=function(t){function i(i,o,n,a){var c=t.call(this)||this;return c.initData(100),c.setControllerId(1),c.setCmdId(e.BET),c.packHeader(),c.putInt(1),c.putLong(i),c.putLong(o),c.putShort(r.default.App.MONEY_TYPE),c.putShort(n),c.putShort(a),c.updateSize(),c}return n(i,t),i}(s.default);t.SendBet=u;var d=function(t){function e(e){var i=t.call(this,e)||this;return i.gameId=0,i.moneyType=0,i.referenceId=0,i.remainTime=0,i.bettingState=!1,i.potTai=0,i.potXiu=0,i.betTai=0,i.betXiu=0,i.dice1=0,i.dice2=0,i.dice3=0,i.remainTimeRutLoc=0,i.gameId=i.getShort(),i.moneyType=i.getShort(),i.referenceId=i.getLong(),i.remainTime=i.getShort(),i.bettingState=i.getBool(),i.potTai=i.getLong(),i.potXiu=i.getLong(),i.betTai=i.getLong(),i.betXiu=i.getLong(),i.dice1=i.getShort(),i.dice2=i.getShort(),i.dice3=i.getShort(),i.remainTimeRutLoc=i.getShort(),i}return n(e,t),e}(c.default);t.ReceiveGameInfo=d;var h=function(t){function e(e){var i=t.call(this,e)||this;return i.remainTime=0,i.bettingState=!1,i.potTai=0,i.potXiu=0,i.numBetTai=0,i.numBetXiu=0,i.remainTime=i.getShort(),i.bettingState=i.getBool(),i.potTai=i.getLong(),i.potXiu=i.getLong(),i.numBetTai=i.getShort(),i.numBetXiu=i.getShort(),i}return n(e,t),e}(c.default);t.ReceiveUpdateTime=h;var b=function(t){function e(e){var i=t.call(this,e)||this;return i.result=0,i.dice1=0,i.dice2=0,i.dice3=0,i.result=i.getShort(),i.dice1=i.getShort(),i.dice2=i.getShort(),i.dice3=i.getShort(),i}return n(e,t),e}(c.default);t.ReceiveDicesResult=b;var f=function(t){function e(e){var i=t.call(this,e)||this;return i.moneyType=1,i.totalMoney=0,i.currentMoney=0,i.moneyType=i.getShort(),i.totalMoney=i.getLong(),i.currentMoney=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveResult=f;var m=function(t){function e(e){var i=t.call(this,e)||this;return i.referenceId=0,i.remainTimeRutLoc=0,i.referenceId=i.getLong(),i.remainTimeRutLoc=i.getShort(),i}return n(e,t),e}(c.default);t.ReceiveNewGame=m;var g=function(t){function e(e){var i=t.call(this,e)||this;return i.data="",i.data=i.getString(),i}return n(e,t),e}(c.default);t.ReceiveHistories=g;var T=function(t){function e(e){var i=t.call(this,e)||this;return i.result=0,i.currentMoney=0,i.result=i.getError(),i.currentMoney=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveBet=T;var y=function(t){function e(e){var i=t.call(this,e)||this;return i.message="",i.minVipPoint=0,i.timeBan=0,i.userType=0,i.message=i.getString(),i.minVipPoint=i.getByte(),i.timeBan=i.getLong(),i.userType=i.getByte(),i}return n(e,t),e}(c.default);t.ReceiveLogChat=y;var v=function(t){function e(e){var i=t.call(this,e)||this;return i.error=0,i.nickname="",i.message="",i.error=i.getError(),i.nickname=i.getString(),i.message=i.getString(),i}return n(e,t),e}(c.default);t.ReceiveSendChat=v}(a=i.cmd||(i.cmd={})),i.default=a,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"TaiXiuMini2MD5.PanelChat":[function(t,e,i){"use strict";cc._RF.push(e,"52caefgJS1IXpEi+hTAdzDh","TaiXiuMini2MD5.PanelChat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("./TaiXiuMini2MD5.Cmd"),s=t("./TaiXiuMini2MD5.TaiXiuMiniMD5Controller"),l=t("../../../Loading/src/Configs"),p=t("../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient"),u=cc._decorator,d=u.ccclass,h=u.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemChatTemplate=null,e.scrMessage=null,e.edbMessage=null,e}return n(e,t),e.prototype.start=function(){this.itemChatTemplate.active=!1},e.prototype.show=function(t){if(this.node.active=t,t){for(var e=0;e<this.scrMessage.content.childrenCount;e++)this.scrMessage.content.children[e].active=!1;p.default.getInstance().send(new c.default.SendScribeChat)}else p.default.getInstance().send(new c.default.SendUnScribeChat)},e.prototype.addMessage=function(t,e){for(var i=null,o=0;o<this.scrMessage.content.childrenCount;o++)if(!(a=this.scrMessage.content.children[o]).active){i=a;break}null==i&&(i=this.scrMessage.content.childrenCount>=50?this.scrMessage.content.children[0]:cc.instantiate(this.itemChatTemplate));var n=0;for(o=0;o<this.scrMessage.content.childrenCount;o++){var a;(a=this.scrMessage.content.children[o])!=i&&(a.zIndex=n++)}i.parent=this.scrMessage.content;var r=i.getChildByName("lblNickname").getComponent(cc.Label);r.string=t,r.node.color=t==l.default.Login.Nickname?cc.Color.WHITE.fromHEX("#3DFF00"):cc.Color.WHITE.fromHEX("#FFC200"),i.getChildByName("lblMessage").getComponent(cc.Label).string=e,i.active=!0,i.zIndex=n++,this.scrollToBottom()},e.prototype.sendChat=function(){var t=this.edbMessage.string.trim();0!=t.length&&(this.edbMessage.string="",s.default.instance.sendChat(t))},e.prototype.scrollToBottom=function(){this.scrMessage.scrollToBottom(.2)},a([h(cc.Node)],e.prototype,"itemChatTemplate",void 0),a([h(cc.ScrollView)],e.prototype,"scrMessage",void 0),a([h(cc.EditBox)],e.prototype,"edbMessage",void 0),a([d],e)}(cc.Component);t.PanelChat=e})(r||(r={})),i.default=r.PanelChat,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient":void 0,"./TaiXiuMini2MD5.Cmd":"TaiXiuMini2MD5.Cmd","./TaiXiuMini2MD5.TaiXiuMiniMD5Controller":"TaiXiuMini2MD5.TaiXiuMiniMD5Controller"}],"TaiXiuMini2MD5.PopupDetailHistory":[function(t,e,i){"use strict";cc._RF.push(e,"2339aGeVhBMHbcFsdxCJp3a","TaiXiuMini2MD5.PopupDetailHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/Http"),c=t("../../../Loading/src/Configs"),s=t("./TaiXiuMini2MD5.TaiXiuMiniMD5Controller"),l=t("../../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,h=u.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblSession=null,e.lblTime=null,e.lblPage=null,e.lblTotalBetTai=null,e.lblTotalBetXiu=null,e.lblTotalRefundTai=null,e.lblTotalRefundXiu=null,e.sfDices=[],e.sfTai=null,e.sfXiu=null,e.sprDice1=null,e.sprDice2=null,e.sprDice3=null,e.sprResult=null,e.itemTemplate=null,e.items=[],e.inited=!1,e.session=0,e.page=1,e.totalPage=1,e.historiesTai=[],e.historiesXiu=[],e}return n(e,t),e.prototype.showDetail=function(t){this.session=t,this.show()},e.prototype.show=function(){if(t.prototype.show.call(this),this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.sprResult.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblTime.string="",this.inited)for(var e=0;e<this.items.length;e++)this.items[e].active=!1;else{for(this.itemTemplate.active=!1,e=0;e<10;e++){var i=cc.instantiate(this.itemTemplate);i.parent=this.itemTemplate.parent,i.active=!1,this.items.push(i)}this.inited=!0}},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.loadData()},e.prototype.loadData=function(){for(var t=this,e=0;e<this.items.length;e++)this.items[e].active=!1;this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.sprResult.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblTime.string="",r.default.get(c.default.App.API,{c:102,rid:this.session,mt:c.default.App.MONEY_TYPE},function(e,i){if(null==e&&(t.historiesTai=[],t.historiesXiu=[],i.success&&null!==i.resultTX)){for(var o=0;o<i.transactions.length;o++){var n=i.transactions[o];1===n.betSide?t.historiesTai.push(n):t.historiesXiu.push(n)}for(o=0;o<t.items.length;o++)t.items[o].active=!1;t.page=1,t.totalPage=t.historiesXiu.length>t.historiesTai.length?t.historiesXiu.length:t.historiesTai.length,t.totalPage=Math.ceil(t.totalPage/t.items.length),t.lblPage.string=t.page+"/"+t.totalPage,t.lblSession.string="Phi\xean: #"+i.resultTX.referenceId,t.lblTime.string=i.resultTX.timestamp,t.lblTotalBetTai.string=p.default.formatNumber(i.resultTX.totalTai),t.lblTotalBetXiu.string=p.default.formatNumber(i.resultTX.totalXiu),t.lblTotalRefundTai.string=p.default.formatNumber(i.resultTX.totalRefundTai),t.lblTotalRefundXiu.string=p.default.formatNumber(i.resultTX.totalRefundXiu),t.sprDice1.spriteFrame=t.sfDices[i.resultTX.dice1],t.sprDice1.node.active=!0,t.sprDice2.spriteFrame=t.sfDices[i.resultTX.dice2],t.sprDice2.node.active=!0,t.sprDice3.spriteFrame=t.sfDices[i.resultTX.dice3],t.sprDice3.node.active=!0,t.sprResult.spriteFrame=1==i.resultTX.result?t.sfTai:t.sfXiu,t.sprResult.node.active=!0,t.loadDataPage()}})},e.prototype.loadDataPage=function(){for(var t=0;t<this.items.length;t++){var e=(this.page-1)*this.items.length+t,i=this.items[t];if(i.active=!0,e<this.historiesTai.length){var o=this.historiesTai[e];i.getChildByName("Time").getComponent(cc.Label).string=(o.inputTime<10?"00:0":"00:")+o.inputTime,i.getChildByName("Account").getComponent(cc.Label).string=o.username,i.getChildByName("Refund").getComponent(cc.Label).string=p.default.formatNumber(o.refund),i.getChildByName("Bet").getComponent(cc.Label).string=p.default.formatNumber(o.betValue)}else i.getChildByName("Time").getComponent(cc.Label).string="",i.getChildByName("Account").getComponent(cc.Label).string="",i.getChildByName("Refund").getComponent(cc.Label).string="",i.getChildByName("Bet").getComponent(cc.Label).string="";e<this.historiesXiu.length?(o=this.historiesXiu[e],i.getChildByName("Time2").getComponent(cc.Label).string=(o.inputTime<10?"00:0":"00:")+o.inputTime,i.getChildByName("Account2").getComponent(cc.Label).string=o.username,i.getChildByName("Refund2").getComponent(cc.Label).string=p.default.formatNumber(o.refund),i.getChildByName("Bet2").getComponent(cc.Label).string=p.default.formatNumber(o.betValue)):(i.getChildByName("Time2").getComponent(cc.Label).string="",i.getChildByName("Account2").getComponent(cc.Label).string="",i.getChildByName("Refund2").getComponent(cc.Label).string="",i.getChildByName("Bet2").getComponent(cc.Label).string="")}this.lblPage.string=this.page+"/"+this.totalPage},e.prototype.actNextPage=function(){this.page++,this.page>this.totalPage&&(this.page=this.totalPage),this.loadDataPage()},e.prototype.actPrevPage=function(){this.page--,this.page<1&&(this.page=1),this.loadDataPage()},e.prototype.actNextSession=function(){this.session++,this.session>s.default.instance.histories[s.default.instance.histories.length-1].session?this.session=s.default.instance.histories[s.default.instance.histories.length-1].session:this.loadData()},e.prototype.actPrevSession=function(){this.session--,this.loadData()},a([h(cc.Label)],e.prototype,"lblSession",void 0),a([h(cc.Label)],e.prototype,"lblTime",void 0),a([h(cc.Label)],e.prototype,"lblPage",void 0),a([h(cc.Label)],e.prototype,"lblTotalBetTai",void 0),a([h(cc.Label)],e.prototype,"lblTotalBetXiu",void 0),a([h(cc.Label)],e.prototype,"lblTotalRefundTai",void 0),a([h(cc.Label)],e.prototype,"lblTotalRefundXiu",void 0),a([h([cc.SpriteFrame])],e.prototype,"sfDices",void 0),a([h(cc.SpriteFrame)],e.prototype,"sfTai",void 0),a([h(cc.SpriteFrame)],e.prototype,"sfXiu",void 0),a([h(cc.Sprite)],e.prototype,"sprDice1",void 0),a([h(cc.Sprite)],e.prototype,"sprDice2",void 0),a([h(cc.Sprite)],e.prototype,"sprDice3",void 0),a([h(cc.Sprite)],e.prototype,"sprResult",void 0),a([h(cc.Node)],e.prototype,"itemTemplate",void 0),a([d],e)}(l.default);i.default=b,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"./TaiXiuMini2MD5.TaiXiuMiniMD5Controller":"TaiXiuMini2MD5.TaiXiuMiniMD5Controller"}],"TaiXiuMini2MD5.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"9112d3r5tRB4IZDDmxWhM2E","TaiXiuMini2MD5.PopupHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/Configs"),c=t("../../../Loading/src/Http"),s=t("../../../Lobby/LobbyScript/Script/common/App"),l=t("../../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,h=u.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.itemTemplate=null,e.page=1,e.maxPage=1,e.items=new Array,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),c.default.get(r.default.App.API,{c:100,p:this.page,un:r.default.Login.Nickname,mt:r.default.App.MONEY_TYPE,txType:2},function(e,i){if(s.default.instance.showLoading(!1),null==e&&i.success){if(0==t.items.length){for(var o=0;o<10;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}t.maxPage=i.totalPages,t.lblPage.string=t.page+"/"+t.maxPage;for(var n=0;n<t.items.length;n++){var a=t.items[n];if(n<i.transactions.length){var r=i.transactions[n];a.getChildByName("bg").opacity=n%2==0?10:0,a.getChildByName("lblSession").getComponent(cc.Label).string="#"+r.referenceId,a.getChildByName("lblTime").getComponent(cc.Label).string=r.timestamp,a.getChildByName("lblBetDoor").getComponent(cc.Label).string=1==r.betSide?"T\xc0I":"X\u1ec8U",a.getChildByName("lblResult").getComponent(cc.Label).string=r.resultPhien,a.getChildByName("lblBet").getComponent(cc.Label).string=p.default.formatNumber(r.betValue),a.getChildByName("lblRefund").getComponent(cc.Label).string=p.default.formatNumber(r.totalRefund),a.getChildByName("lblWin").getComponent(cc.Label).string=p.default.formatNumber(r.totalPrize),a.active=!0}else a.active=!1}}})},a([h(cc.Label)],e.prototype,"lblPage",void 0),a([h(cc.Node)],e.prototype,"itemTemplate",void 0),a([d],e)}(l.default);i.default=b,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMini2MD5.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"0d6585DlCtKuKqbwHsogqmb","TaiXiuMini2MD5.PopupHonors");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/Configs"),c=t("../../../Loading/src/Http"),s=t("../../../Lobby/LobbyScript/Script/common/App"),l=t("../../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,h=u.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.items=new Array,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.loadData()},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0),c.default.get(r.default.App.API,{c:101,mt:r.default.App.MONEY_TYPE,txType:2},function(e,i){if(s.default.instance.showLoading(!1),null==e&&i.success){if(0==t.items.length){for(var o=0;o<10;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}for(var n=0;n<t.items.length;n++){var a=t.items[n];if(n<i.topTX.length){var r=i.topTX[n];a.getChildByName("bg").opacity=n%2==0?10:0,a.getChildByName("lblRank").getComponent(cc.Label).string=(n+1).toString(),a.getChildByName("lblAccount").getComponent(cc.Label).string=r.username,a.getChildByName("lblWin").getComponent(cc.Label).string=p.default.formatNumber(r.money),a.active=!0}else a.active=!1}}})},a([h(cc.Node)],e.prototype,"itemTemplate",void 0),a([d],e)}(l.default);i.default=b,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMini2MD5.PopupSoiCau":[function(t,e,i){"use strict";cc._RF.push(e,"4e4e7AS+ERDEYNtcvYK4Wh5","TaiXiuMini2MD5.PopupSoiCau");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Lobby/LobbyScript/Script/common/Dialog"),c=t("../../../Lobby/LobbyScript/Script/common/Utils"),s=t("./TaiXiuMini2MD5.TaiXiuMiniMD5Controller"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineTemplate=null,e.iconTaiTemplate=null,e.iconXiuTemplate=null,e.iconXX1Template=null,e.iconXX2Template=null,e.iconXX3Template=null,e.iconNumberTemplate=null,e.page1=null,e.lblLastSession=null,e.xx1Draw=null,e.xx2Draw=null,e.xx3Draw=null,e.xx123Draw=null,e.page2=null,e.lblTai1=null,e.lblTai2=null,e.lblXiu1=null,e.lblXiu2=null,e.contentDraw=null,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this),this.page1.active=!1,this.page2.active=!1,this.lineTemplate.parent.active=!1},e.prototype.dismiss=function(){t.prototype.dismiss.call(this),this.page1.active=!1,this.page2.active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.drawPage1(),this.page1.active=!0,this.page2.active=!1},e.prototype.toggleXX1=function(t){this.xx1Draw.active=t.isChecked},e.prototype.toggleXX2=function(t){this.xx2Draw.active=t.isChecked},e.prototype.toggleXX3=function(t){this.xx3Draw.active=t.isChecked},e.prototype.togglePage=function(){this.page1.active=!this.page1.active,this.page2.active=!this.page1.active,this.page1.active?this.drawPage1():this.drawPage2()},e.prototype.drawPage1=function(){var t=s.default.instance.histories.slice();t.length>22&&t.splice(0,t.length-22);var e=t[t.length-1],i=e.dices,o=i[0]+i[1]+i[2];this.lblLastSession.string="Phi\xean g\u1ea7n nh\u1ea5t: (#"+e.session+")  "+(o>=11?"T\xc0I":"X\u1ec8U")+"  "+o+"("+i[0]+"-"+i[1]+"-"+i[2]+")",this.xx1Draw.removeAllChildren(),this.xx2Draw.removeAllChildren(),this.xx3Draw.removeAllChildren(),this.xx123Draw.removeAllChildren();for(var n=0,a=t.length-1;a>=0;a--){var r=t[a].dices,l=r[0]+r[1]+r[2],p=cc.v2(311-28.3*n,30.2*(r[0]-1)-195.822),u=cc.v2(311-28.3*n,30.2*(r[1]-1)-195.822),d=cc.v2(311-28.3*n,30.2*(r[2]-1)-195.822),h=cc.v2(311-28.3*n,30.2/3*(l-3)-4.234),b=cc.instantiate(this.iconXX1Template);b.parent=this.xx1Draw,b.setPosition(p);var f=cc.instantiate(this.iconXX2Template);f.parent=this.xx2Draw,f.setPosition(u);var m=cc.instantiate(this.iconXX3Template);m.parent=this.xx3Draw,m.setPosition(d);var g=cc.instantiate(l>=11?this.iconTaiTemplate:this.iconXiuTemplate);if(g.parent=this.xx123Draw,g.setPosition(h),n>0){l=(r=t[a+1].dices)[0]+r[1]+r[2];var T=cc.v2(311-28.3*(n-1),30.2*(r[0]-1)-195.822),y=cc.v2(311-28.3*(n-1),30.2*(r[1]-1)-195.822),v=cc.v2(311-28.3*(n-1),30.2*(r[2]-1)-195.822),C=cc.v2(311-28.3*(n-1),30.2/3*(l-3)-4.234),S=cc.instantiate(this.lineTemplate);S.parent=this.xx1Draw,S.width=c.default.v2Distance(p,T),S.setPosition(p),S.angle=c.default.v2Degrees(p,T),S.color=cc.Color.BLACK.fromHEX("#ff1800"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx2Draw,S.width=c.default.v2Distance(u,y),S.setPosition(u),S.angle=c.default.v2Degrees(u,y),S.color=cc.Color.BLACK.fromHEX("#ffea00"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx3Draw,S.width=c.default.v2Distance(d,v),S.setPosition(d),S.angle=c.default.v2Degrees(d,v),S.color=cc.Color.BLACK.fromHEX("#35e100"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx123Draw,S.width=c.default.v2Distance(h,C),S.setPosition(h),S.angle=c.default.v2Degrees(h,C),S.color=cc.Color.BLACK.fromHEX("#ffea00"),S.zIndex=-1}n++}},e.prototype.drawPage2=function(){var t=-283.773,e=132.93;this.contentDraw.removeAllChildren();var i=[],o=[],n=s.default.instance.histories.length,a=0,r=0;if(n>1)for(var c=s.default.instance.histories[0].dices,l=(T=c[0]+c[1]+c[2])>=11,p=0;p<n;p++){var u=(T=(c=s.default.instance.histories[p].dices)[0]+c[1]+c[2])>=11;u!==l?(o.length>5&&o.splice(0,o.length-5),i.push(o),l?a+=o.length:r+=o.length,l=u,(o=[]).push(T)):o.push(T),p===n-1&&(o.length>5&&o.splice(0,o.length-5),i.push(o),l?a+=o.length:r+=o.length)}i.length>21&&i.splice(0,i.length-21),this.lblTai1.string="T\xc0I: "+a,this.lblXiu1.string="X\u1ec8U: "+r;for(var d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++){var b=i[d][h],f=cc.instantiate(this.iconNumberTemplate);f.parent=this.contentDraw,f.setPosition(t+28.3*d,e-30.2*h),f.color=cc.Color.BLACK.fromHEX(b>=11?"#4192ff":"#FFFFFF"),f.getComponent(cc.Label).string=""+b}t=-281.793,e=-58.447;var m=0,g=0;for(a=0,r=0,(i=s.default.instance.histories.slice()).length>105&&i.splice(0,i.length-105),p=0;p<i.length;p++){var T;(T=i[p].dices[0]+i[p].dices[1]+i[p].dices[2])>=11?a++:r++;var y=cc.instantiate(T>=11?this.iconTaiTemplate:this.iconXiuTemplate);y.parent=this.contentDraw,y.setPosition(t+28.3*m,e-30.2*g),++g>=5&&(g=0,m++)}this.lblTai2.string="T\xc0I: "+a,this.lblXiu2.string="X\u1ec8U: "+r},a([u(cc.Node)],e.prototype,"lineTemplate",void 0),a([u(cc.Node)],e.prototype,"iconTaiTemplate",void 0),a([u(cc.Node)],e.prototype,"iconXiuTemplate",void 0),a([u(cc.Node)],e.prototype,"iconXX1Template",void 0),a([u(cc.Node)],e.prototype,"iconXX2Template",void 0),a([u(cc.Node)],e.prototype,"iconXX3Template",void 0),a([u(cc.Node)],e.prototype,"iconNumberTemplate",void 0),a([u(cc.Node)],e.prototype,"page1",void 0),a([u(cc.Label)],e.prototype,"lblLastSession",void 0),a([u(cc.Node)],e.prototype,"xx1Draw",void 0),a([u(cc.Node)],e.prototype,"xx2Draw",void 0),a([u(cc.Node)],e.prototype,"xx3Draw",void 0),a([u(cc.Node)],e.prototype,"xx123Draw",void 0),a([u(cc.Node)],e.prototype,"page2",void 0),a([u(cc.Label)],e.prototype,"lblTai1",void 0),a([u(cc.Label)],e.prototype,"lblTai2",void 0),a([u(cc.Label)],e.prototype,"lblXiu1",void 0),a([u(cc.Label)],e.prototype,"lblXiu2",void 0),a([u(cc.Node)],e.prototype,"contentDraw",void 0),a([p],e)}(r.default);i.default=d,cc._RF.pop()},{"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"./TaiXiuMini2MD5.TaiXiuMiniMD5Controller":"TaiXiuMini2MD5.TaiXiuMiniMD5Controller"}],"TaiXiuMini2MD5.PopupThanhDu":[function(t,e,i){"use strict";cc._RF.push(e,"cc601gBsh5DrrK+uhmD/Hhs","TaiXiuMini2MD5.PopupThanhDu");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/Configs"),c=t("../../../Loading/src/Http"),s=t("../../../Lobby/LobbyScript/Script/common/App"),l=t("../../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=cc._decorator,d=u.ccclass,h=u.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprTabNormal=null,e.sprTabActive=null,e.tabs=null,e.childTabs=null,e.itemTemplate=null,e.lblDate=null,e.selectedTab=0,e.selectedChildTab=0,e.date=new Date,e.items=new Array,e}return n(e,t),e.prototype.start=function(){for(var t=this,e=function(e){i.tabs.children[e].on("click",function(){t.selectedTab=e,t.selectedChildTab=0,t.date=new Date,t.updateTabSpriteFrame(),t.loadData()})},i=this,o=0;o<this.tabs.childrenCount;o++)e(o);var n=function(e){a.childTabs.children[e].on("click",function(){t.selectedChildTab=e,t.updateTabSpriteFrame(),t.loadData()})},a=this;for(o=0;o<this.childTabs.childrenCount;o++)n(o)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype.show=function(){t.prototype.show.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.selectedTab=0,this.selectedChildTab=0,this.updateTabSpriteFrame(),this.loadData()},e.prototype.actNext=function(){0===this.selectedTab?this.date.setDate(this.date.getDate()+1):this.date.setMonth(this.date.getMonth()+1),this.loadData()},e.prototype.actPrev=function(){0===this.selectedTab?this.date.setDate(this.date.getDate()-1):this.date.setMonth(this.date.getMonth()-1),this.loadData()},e.prototype.updateTabSpriteFrame=function(){for(var t=0;t<this.tabs.childrenCount;t++)this.tabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedTab==t?this.sprTabActive:this.sprTabNormal;for(t=0;t<this.childTabs.childrenCount;t++)this.childTabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedChildTab==t?this.sprTabActive:this.sprTabNormal},e.prototype.loadData=function(){var t=this;s.default.instance.showLoading(!0);var e=0===this.selectedChildTab?1:0,i=0===this.selectedTab?p.default.dateToYYYYMMdd(this.date):p.default.dateToYYYYMM(this.date);this.lblDate.string=i;var o=0===this.selectedTab?{c:103,date:i,type:e,txType:2}:{c:103,month:i,type:e,txType:2};c.default.get(r.default.App.API,o,function(e,i){if(s.default.instance.showLoading(!1),null==e&&i.success){if(0==t.items.length){for(var o=0;o<10;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}for(var n=0;n<t.items.length;n++){var a=t.items[n];if(n<i.results.length){var r=i.results[n];a.getChildByName("bg").opacity=n%2==0?10:0,a.getChildByName("no").getComponent(cc.Label).string=(n+1).toString(),a.getChildByName("account").getComponent(cc.Label).string=r.username,a.getChildByName("count").getComponent(cc.Label).string=p.default.formatNumber(r.number),a.getChildByName("winlose").getComponent(cc.Label).string=p.default.formatNumber(r.totalMoney),a.getChildByName("session").getComponent(cc.Label).string="#"+r.referenceId,a.getChildByName("award").getComponent(cc.Label).string=r.prize,a.active=!0}else a.active=!1}}})},a([h(cc.SpriteFrame)],e.prototype,"sprTabNormal",void 0),a([h(cc.SpriteFrame)],e.prototype,"sprTabActive",void 0),a([h(cc.Node)],e.prototype,"tabs",void 0),a([h(cc.Node)],e.prototype,"childTabs",void 0),a([h(cc.Node)],e.prototype,"itemTemplate",void 0),a([h(cc.Label)],e.prototype,"lblDate",void 0),a([d],e)}(l.default);i.default=b,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMini2MD5.TaiXiuMiniMD5Controller":[function(t,e,i){"use strict";cc._RF.push(e,"dc51e/7AnpCmo4ThHV3HagN","TaiXiuMini2MD5.TaiXiuMiniMD5Controller");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("../../../Loading/src/Configs"),s=t("../../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),l=t("../../../Lobby/LobbyScript/Script/common/Tween"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=t("../../../Lobby/LobbyScript/Script/networks/Network.InPacket"),d=t("../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient"),h=t("../src/TaiXiuDoubleMD5.Controller"),b=t("./TaiXiuMini2MD5.Cmd"),f=t("./TaiXiuMini2MD5.PanelChat"),m=t("./TaiXiuMini2MD5.PopupDetailHistory"),g=cc._decorator,T=g.ccclass,y=g.property;(function(t){t[t.None=0]="None",t[t.Tai=1]="Tai",t[t.Xiu=2]="Xiu"})(r||(r={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePlay=null,e.sprDices=new Array,e.sprFrameTai=null,e.sprFrameXiu=null,e.sprFrameBtnNan=null,e.sprFrameBtnNan2=null,e.lblSession=null,e.lblRemainTime=null,e.lblRemainTime2=null,e.lblScore=null,e.lblUserTai=null,e.lblUserXiu=null,e.lblTotalBetTai=null,e.lblTotalBetXiu=null,e.lblBetTai=null,e.lblBetXiu=null,e.lblBetedTai=null,e.lblBetedXiu=null,e.dice1=null,e.dice2=null,e.dice3=null,e.diceAnim=null,e.bowl=null,e.tai=null,e.xiu=null,e.btnHistories=null,e.nodePanelChat=null,e.layoutBet=null,e.layoutBet1=null,e.layoutBet2=null,e.buttonsBet1=new Array,e.buttonsBet2=new Array,e.lblToast=null,e.lblWinCash=null,e.btnNan=null,e.popupDetailHistory=null,e.popups=[],e.isBetting=!1,e.remainTime=0,e.canBet=!0,e.betedTai=0,e.betedXiu=0,e.referenceId=0,e.betingValue=-1,e.betingDoor=r.None,e.isOpenBowl=!1,e.lastWinCash=0,e.lastScore=0,e.isNan=!1,e.histories=[],e.isCanChat=!0,e.panelChat=null,e.maxBetValue=999999999,e.listBets=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,1e7],e.bowlStartPos=cc.v2(0,-15),e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){i.instance=this},e.prototype.start=function(){var t=this;s.default.register(s.default.USER_LOGOUT,function(){t.node.active&&t.dismiss()},this),d.default.getInstance().addOnClose(function(){t.node.active&&t.dismiss()},this),d.default.getInstance().addListener(function(e){if(t.node.active)switch(new u.default(e).getCmdId()){case b.default.Code.GAME_INFO:var i=new b.default.ReceiveGameInfo(e);t.stopWin(),t.bowl.active=!1,i.bettingState?(t.isBetting=!0,t.dice1.node.active=!1,t.dice2.node.active=!1,t.dice3.node.active=!1,t.lblRemainTime.node.active=!0,t.lblRemainTime.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.lblRemainTime2.node.parent.active=!1,t.lblScore.node.parent.active=!1):(t.lastScore=i.dice1+i.dice2+i.dice3,t.isBetting=!1,t.dice1.node.active=!0,t.dice1.spriteFrame=t.sprDices[i.dice1],t.dice2.node.active=!0,t.dice2.spriteFrame=t.sprDices[i.dice2],t.dice3.node.active=!0,t.dice3.spriteFrame=t.sprDices[i.dice3],t.lblRemainTime.node.active=!1,t.lblRemainTime2.node.parent.active=!0,t.lblRemainTime2.string="00:"+(i.remainTime<10?"0"+i.remainTime:""+i.remainTime),t.showResult()),t.diceAnim.active=!1,l.default.numberTo(t.lblTotalBetTai,i.potTai,.3),l.default.numberTo(t.lblTotalBetXiu,i.potXiu,.3),t.betedTai=i.betTai,t.lblBetedTai.string=p.default.formatNumber(t.betedTai),t.betedXiu=i.betXiu,t.lblBetedXiu.string=p.default.formatNumber(t.betedXiu),t.referenceId=i.referenceId,t.lblSession.string="#"+i.referenceId,t.remainTime=i.remainTime;break;case b.default.Code.UPDATE_TIME:(i=new b.default.ReceiveUpdateTime(e)).bettingState?(t.isBetting=!0,t.lblRemainTime.node.active=!0,t.lblRemainTime.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.lblRemainTime2.node.parent.active=!1,t.lblScore.node.parent.active=!1):(t.isBetting=!1,t.lblRemainTime.node.active=!1,t.lblRemainTime2.node.parent.active=!0,t.lblRemainTime2.string="00:"+(i.remainTime<10?"0"+i.remainTime:""+i.remainTime),t.layoutBet.active=!1,t.lblBetTai.string="\u0110\u1eb6T",t.lblBetXiu.string="\u0110\u1eb6T",i.remainTime<15&&t.isNan&&!t.isOpenBowl&&(t.bowl.active=!1,t.showResult(),t.showWinCash(),t.isOpenBowl=!0)),l.default.numberTo(t.lblTotalBetTai,i.potTai,.3),l.default.numberTo(t.lblTotalBetXiu,i.potXiu,.3),t.lblUserTai.string="("+p.default.formatNumber(i.numBetTai)+")",t.lblUserXiu.string="("+p.default.formatNumber(i.numBetXiu)+")";break;case b.default.Code.DICES_RESULT:i=new b.default.ReceiveDicesResult(e),t.lastScore=i.dice1+i.dice2+i.dice3,t.lblRemainTime.node.active=!1,t.dice1.spriteFrame=t.sprDices[i.dice1],t.dice2.spriteFrame=t.sprDices[i.dice2],t.dice3.spriteFrame=t.sprDices[i.dice3],t.diceAnim.active=!0,t.diceAnim.getComponent(cc.Animation).play("shake"),t.scheduleOnce(function(){t.diceAnim.active=!1,t.dice1.node.active=!0,t.dice2.node.active=!0,t.dice3.node.active=!0,t.isNan?(t.bowl.setPosition(t.bowlStartPos),t.bowl.active=!0):t.showResult()},.95),t.histories.length>=100&&t.histories.slice(0,1),t.histories.push({session:t.referenceId,dices:[i.dice1,i.dice2,i.dice3]});break;case b.default.Code.RESULT:i=new b.default.ReceiveResult(e),c.default.Login.Coin=i.currentMoney,t.lastWinCash=i.totalMoney,t.bowl.active||i.totalMoney>0&&t.showWinCash();break;case b.default.Code.NEW_GAME:i=new b.default.ReceiveNewGame(e),t.diceAnim.active=!1,t.dice1.node.active=!1,t.dice2.node.active=!1,t.dice3.node.active=!1,t.lblTotalBetTai.string="0",t.lblTotalBetXiu.string="0",t.lblBetedTai.string="0",t.lblBetedXiu.string="0",t.lblUserTai.string="(0)",t.lblUserXiu.string="(0)",t.referenceId=i.referenceId,t.lblSession.string="#"+i.referenceId,t.betingValue=-1,t.betingDoor=r.None,t.betedTai=0,t.betedXiu=0,t.isOpenBowl=!1,t.lastWinCash=0,t.stopWin();break;case b.default.Code.HISTORIES:for(var o=(i=new b.default.ReceiveHistories(e)).data.split(","),n=0;n<o.length;n++)t.histories.push({session:t.referenceId-o.length/3+parseInt(""+(n+1)/3)+(t.isBetting?0:1),dices:[parseInt(o[n]),parseInt(o[++n]),parseInt(o[++n])]});t.updateBtnHistories();break;case b.default.Code.LOG_CHAT:i=new b.default.ReceiveLogChat(e);var a=JSON.parse(i.message);for(n=0;n<a.length;n++)t.panelChat.addMessage(a[n].u,a[n].m);t.panelChat.scrollToBottom();break;case b.default.Code.SEND_CHAT:switch((i=new b.default.ReceiveSendChat(e)).error){case 0:t.panelChat.addMessage(i.nickname,i.message);break;case 2:t.showToast("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n Chat!");break;case 3:t.showToast("T\u1ea1m th\u1eddi b\u1ea1n b\u1ecb c\u1ea5m Chat!");break;case 4:t.showToast("N\u1ed9i dung chat qu\xe1 d\xe0i.");break;default:t.showToast("B\u1ea1n kh\xf4ng th\u1ec3 chat v\xe0o l\xfac n\xe0y.")}break;case b.default.Code.BET:switch((i=new b.default.ReceiveBet(e)).result){case 0:switch(t.betingDoor){case r.Tai:t.betedTai+=t.betingValue,t.lblBetedTai.string=p.default.formatNumber(t.betedTai);break;case r.Xiu:t.betedXiu+=t.betingValue,t.lblBetedXiu.string=p.default.formatNumber(t.betedXiu)}c.default.Login.Coin=i.currentMoney,s.default.send(s.default.USER_UPDATE_COIN),t.betingValue=-1,t.showToast("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng.");break;case 2:t.betingValue=-1,t.showToast("H\u1ebft th\u1eddi gian c\u01b0\u1ee3c.");break;case 3:t.betingValue=-1,t.showToast("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7 vui l\xf2ng n\u1ea1p th\xeam.");break;case 4:t.betingValue=-1,t.showToast("S\u1ed1 ti\u1ec1n c\u01b0\u1ee3c kh\xf4ng h\u1ee3p l\u1ec7.");break;default:t.betingValue=-1,t.showToast("\u0110\u1eb7t c\u01b0\u1ee3c kh\xf4ng th\xe0nh c\xf4ng.")}}},this);for(var e=function(e){var o=i.buttonsBet1[e],n=i.listBets[e],a=n+"";n>=1e6?a=n/1e6+"M":n>=1e3&&(a=n/1e3+"K"),o.getComponentInChildren(cc.Label).string=a,o.node.on("click",function(){if(t.betingDoor!==r.None){var e=t.betingDoor===r.Tai?t.lblBetTai:t.lblBetXiu,i=p.default.stringToInt(e.string)+n;i>t.maxBetValue&&(i=t.maxBetValue),e.string=p.default.formatNumber(i)}})},i=this,o=0;o<this.buttonsBet1.length;o++)e(o);var n=function(e){var i=a.buttonsBet2[e],o=i.getComponentInChildren(cc.Label).string;i.node.on("click",function(){if(t.betingDoor!==r.None){var e=t.betingDoor===r.Tai?t.lblBetTai:t.lblBetXiu,i=p.default.stringToInt(e.string+o);i>t.maxBetValue&&(i=t.maxBetValue),e.string=p.default.formatNumber(i)}})},a=this;for(o=0;o<this.buttonsBet2.length;o++)n(o);this.bowl.on(cc.Node.EventType.TOUCH_MOVE,function(e){var i=t.bowl.position;i.x+=e.getDeltaX(),i.y+=e.getDeltaY(),t.bowl.position=i;var o=p.default.v2Distance(new cc.Vec2(i.x,i.y),t.bowlStartPos);Math.abs(o)>100&&(t.bowl.active=!1,t.isOpenBowl=!0,t.showResult(),t.showWinCash())},this)},e.prototype.show=function(){this.layoutBet.active=!1,this.lblToast.node.parent.active=!1,this.lblWinCash.node.active=!1,this.layoutBet.active=!1,this.diceAnim.active=!1,this.bowl.active=!1,this.dice1.node.active=!1,this.dice2.node.active=!1,this.dice3.node.active=!1,d.default.getInstance().send(new b.default.SendScribe),this.showChat()},e.prototype.showChat=function(){this.panelChat=this.nodePanelChat.getComponent(f.default),this.panelChat.show(!0)},e.prototype.dismiss=function(){for(var t=0;t<this.popups.length;t++)this.popups[t].active=!1;null!=this.panelChat&&this.panelChat.show(!1),d.default.getInstance().send(new b.default.SendUnScribe)},e.prototype.actClose=function(){h.default.instance.dismiss()},e.prototype.actChat=function(){this.panelChat.show(!this.panelChat.node.active)},e.prototype.actBetTai=function(){this.isBetting?this.betingValue>=0?this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh."):this.betedXiu>0?this.showToast("B\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1eb7t 2 c\u1eeda."):(this.betingDoor=r.Tai,this.lblBetTai.string="0",this.lblBetXiu.string="\u0110\u1eb6T",this.layoutBet.active=!0,this.layoutBet1.active=!0,this.layoutBet2.active=!1):this.showToast("Ch\u01b0a \u0111\u1ebfn th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c.")},e.prototype.actBetXiu=function(){this.isBetting?this.betingValue>=0?this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh."):this.betedTai>0?this.showToast("B\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1eb7t 2 c\u1eeda."):(this.betingDoor=r.Xiu,this.lblBetXiu.string="0",this.lblBetTai.string="\u0110\u1eb6T",this.layoutBet.active=!0,this.layoutBet1.active=!0,this.layoutBet2.active=!1):this.showToast("Ch\u01b0a \u0111\u1ebfn th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c.")},e.prototype.actOtherNumber=function(){this.layoutBet1.active=!1,this.layoutBet2.active=!0},e.prototype.actAgree=function(){if(this.betingValue>=0||!this.canBet)this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh.");else if(this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu;this.betingValue=p.default.stringToInt(t.string),this.betingDoor=this.betingDoor,d.default.getInstance().send(new b.default.SendBet(this.referenceId,this.betingValue,this.betingDoor==r.Tai?1:0,this.remainTime)),t.string="0",this.canBet=!1,this.scheduleOnce(function(){this.canBet=!0},1)}},e.prototype.actCancel=function(){this.lblBetXiu.string="\u0110\u1eb6T",this.lblBetTai.string="\u0110\u1eb6T",this.betingDoor=r.None,this.layoutBet.active=!1},e.prototype.actBtnGapDoi=function(){if(this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=p.default.stringToInt(t.string)+c.default.Login.Coin;e>this.maxBetValue&&(e=this.maxBetValue),t.string=p.default.formatNumber(e)}},e.prototype.actBtnDelete=function(){if(this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=""+p.default.stringToInt(t.string);e=e.substring(0,e.length-1),e=p.default.formatNumber(p.default.stringToInt(e)),t.string=e}},e.prototype.actBtn000=function(){if(this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=p.default.stringToInt(t.string+"000");e>this.maxBetValue&&(e=this.maxBetValue),t.string=p.default.formatNumber(e)}},e.prototype.actNan=function(){this.isNan=!this.isNan,this.btnNan.getComponent(cc.Sprite).spriteFrame=this.isNan?this.sprFrameBtnNan2:this.sprFrameBtnNan},e.prototype.showResult=function(){this.lblScore.node.parent.active=!0,this.lblScore.string=""+this.lastScore,this.lastScore>=11?this.tai.runAction(cc.repeatForever(cc.spawn(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)),cc.sequence(cc.tintTo(.3,255,255,0),cc.tintTo(.3,255,255,255))))):this.xiu.runAction(cc.repeatForever(cc.spawn(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)),cc.sequence(cc.tintTo(.3,255,255,0),cc.tintTo(.3,255,255,255))))),this.updateBtnHistories()},e.prototype.stopWin=function(){this.tai.stopAllActions(),this.tai.runAction(cc.spawn(cc.scaleTo(.3,1),cc.tintTo(.3,255,255,255))),this.xiu.stopAllActions(),this.xiu.runAction(cc.spawn(cc.scaleTo(.3,1),cc.tintTo(.3,255,255,255)))},e.prototype.showToast=function(t){this.lblToast.string=t;var e=this.lblToast.node.parent;e.stopAllActions(),e.active=!0,e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(function(){e.active=!1})))},e.prototype.showWinCash=function(){var t=this;this.lastWinCash<=0||(this.lblWinCash.node.stopAllActions(),this.lblWinCash.node.active=!0,this.lblWinCash.node.scale=0,this.lblWinCash.node.setPosition(cc.Vec2.ZERO),l.default.numberTo(this.lblWinCash,this.lastWinCash,.5,function(t){return"+"+t}),this.lblWinCash.node.runAction(cc.sequence(cc.scaleTo(.5,1),cc.delayTime(2),cc.moveBy(1,cc.v2(0,60)),cc.callFunc(function(){t.lblWinCash.node.active=!1}))),s.default.send(s.default.USER_UPDATE_COIN))},e.prototype.updateBtnHistories=function(){var t=this,e=this.histories.slice();e.length>this.btnHistories.childrenCount&&e.splice(0,e.length-this.btnHistories.childrenCount);for(var i,o=e.length-1,n=function(){if(o>=0){var n=o;i=e[o].dices[0]+e[o].dices[1]+e[o].dices[2],a.btnHistories.children[r].getComponent(cc.Sprite).spriteFrame=i>=11?a.sprFrameTai:a.sprFrameXiu,a.btnHistories.children[r].off("click"),a.btnHistories.children[r].on("click",function(){t.popupDetailHistory.showDetail(e[n].session)}),a.btnHistories.children[r].active=!0}else a.btnHistories.children[r].active=!1;o--},a=this,r=this.btnHistories.childrenCount-1;r>=0;r--)n()},e.prototype.sendChat=function(t){var e=this;if(e.isCanChat){e.isCanChat=!1,this.scheduleOnce(function(){e.isCanChat=!0},1);var i=new b.default.SendChat(unescape(encodeURIComponent(t)));d.default.getInstance().send(i)}else this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh.")},e.instance=null,a([y(cc.Node)],e.prototype,"gamePlay",void 0),a([y([cc.SpriteFrame])],e.prototype,"sprDices",void 0),a([y(cc.SpriteFrame)],e.prototype,"sprFrameTai",void 0),a([y(cc.SpriteFrame)],e.prototype,"sprFrameXiu",void 0),a([y(cc.SpriteFrame)],e.prototype,"sprFrameBtnNan",void 0),a([y(cc.SpriteFrame)],e.prototype,"sprFrameBtnNan2",void 0),a([y(cc.Label)],e.prototype,"lblSession",void 0),a([y(cc.Label)],e.prototype,"lblRemainTime",void 0),a([y(cc.Label)],e.prototype,"lblRemainTime2",void 0),a([y(cc.Label)],e.prototype,"lblScore",void 0),a([y(cc.Label)],e.prototype,"lblUserTai",void 0),a([y(cc.Label)],e.prototype,"lblUserXiu",void 0),a([y(cc.Label)],e.prototype,"lblTotalBetTai",void 0),a([y(cc.Label)],e.prototype,"lblTotalBetXiu",void 0),a([y(cc.Label)],e.prototype,"lblBetTai",void 0),a([y(cc.Label)],e.prototype,"lblBetXiu",void 0),a([y(cc.Label)],e.prototype,"lblBetedTai",void 0),a([y(cc.Label)],e.prototype,"lblBetedXiu",void 0),a([y(cc.Sprite)],e.prototype,"dice1",void 0),a([y(cc.Sprite)],e.prototype,"dice2",void 0),a([y(cc.Sprite)],e.prototype,"dice3",void 0),a([y(cc.Node)],e.prototype,"diceAnim",void 0),a([y(cc.Node)],e.prototype,"bowl",void 0),a([y(cc.Node)],e.prototype,"tai",void 0),a([y(cc.Node)],e.prototype,"xiu",void 0),a([y(cc.Node)],e.prototype,"btnHistories",void 0),a([y(cc.Node)],e.prototype,"nodePanelChat",void 0),a([y(cc.Node)],e.prototype,"layoutBet",void 0),a([y(cc.Node)],e.prototype,"layoutBet1",void 0),a([y(cc.Node)],e.prototype,"layoutBet2",void 0),a([y([cc.Button])],e.prototype,"buttonsBet1",void 0),a([y([cc.Button])],e.prototype,"buttonsBet2",void 0),a([y(cc.Label)],e.prototype,"lblToast",void 0),a([y(cc.Label)],e.prototype,"lblWinCash",void 0),a([y(cc.Node)],e.prototype,"btnNan",void 0),a([y(m.default)],e.prototype,"popupDetailHistory",void 0),a([y([cc.Node])],e.prototype,"popups",void 0),i=a([T],e)}(cc.Component);i.default=v,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../../Lobby/LobbyScript/Script/common/Tween":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../../Lobby/LobbyScript/Script/networks/TX2NetworkClient":void 0,"../src/TaiXiuDoubleMD5.Controller":"TaiXiuDoubleMD5.Controller","./TaiXiuMini2MD5.Cmd":"TaiXiuMini2MD5.Cmd","./TaiXiuMini2MD5.PanelChat":"TaiXiuMini2MD5.PanelChat","./TaiXiuMini2MD5.PopupDetailHistory":"TaiXiuMini2MD5.PopupDetailHistory"}],"TaiXiuMiniMD5.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"85164dHLIxFpqnB8nRaqhc7","TaiXiuMiniMD5.Cmd");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;var a,r=t("../../../Loading/src/Configs"),c=t("../../../Lobby/LobbyScript/Script/networks/Network.InPacket"),s=t("../../../Lobby/LobbyScript/Script/networks/Network.OutPacket"),l=cc._decorator;l.ccclass,l.property,function(t){var e=function(){function t(){}return t.SCRIBE=2e3,t.UNSCRIBE=2001,t.BET=2110,t.HISTORIES=2116,t.GAME_INFO=2111,t.UPDATE_TIME=2112,t.DICES_RESULT=2113,t.RESULT=2114,t.NEW_GAME=2115,t.REFUND=2200,t.JACKPOT=2199,t.LOG_CHAT=18003,t.SEND_CHAT=18e3,t.SCRIBE_CHAT=18001,t.UNSCRIBE_CHAT=18002,t}();t.Code=e;var i=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.SCRIBE),i.packHeader(),i.putShort(r.default.GameId.TaiXiu),i.putShort(r.default.App.MONEY_TYPE),i.updateSize(),i}return n(i,t),i}(s.default);t.SendScribe=i;var o=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.UNSCRIBE),i.packHeader(),i.putShort(r.default.GameId.TaiXiu),i.putShort(r.default.App.MONEY_TYPE),i.updateSize(),i}return n(i,t),i}(s.default);t.SendUnScribe=o;var a=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.SCRIBE_CHAT),i.packHeader(),i.updateSize(),i}return n(i,t),i}(s.default);t.SendScribeChat=a;var l=function(t){function i(){var i=t.call(this)||this;return i.initData(100),i.setControllerId(1),i.setCmdId(e.UNSCRIBE_CHAT),i.packHeader(),i.updateSize(),i}return n(i,t),i}(s.default);t.SendUnScribeChat=l;var p=function(t){function i(i){var o=t.call(this)||this;return o.initData(100),o.setControllerId(1),o.setCmdId(e.SEND_CHAT),o.packHeader(),o.putString(i),o.updateSize(),o}return n(i,t),i}(s.default);t.SendChat=p;var u=function(t){function i(i,o,n,a){var c=t.call(this)||this;return c.initData(100),c.setControllerId(1),c.setCmdId(e.BET),c.packHeader(),c.putInt(1),c.putLong(i),c.putLong(o),c.putShort(r.default.App.MONEY_TYPE),c.putShort(n),c.putShort(a),c.updateSize(),c}return n(i,t),i}(s.default);t.SendBet=u;var d=function(t){function e(e){var i=t.call(this,e)||this;return i.gameId=0,i.moneyType=0,i.referenceId=0,i.remainTime=0,i.bettingState=!1,i.potTai=0,i.potXiu=0,i.betTai=0,i.betXiu=0,i.dice1=0,i.dice2=0,i.dice3=0,i.remainTimeRutLoc=0,i.jpTai=0,i.jpXiu=0,i.gameId=i.getShort(),i.moneyType=i.getShort(),i.referenceId=i.getLong(),i.remainTime=i.getShort(),i.bettingState=i.getBool(),i.potTai=i.getLong(),i.potXiu=i.getLong(),i.betTai=i.getLong(),i.betXiu=i.getLong(),i.dice1=i.getShort(),i.dice2=i.getShort(),i.dice3=i.getShort(),i.remainTimeRutLoc=i.getShort(),i.jpTai=i.getLong(),i.jpXiu=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveGameInfo=d;var h=function(t){function e(e){var i=t.call(this,e)||this;return i.remainTime=0,i.bettingState=!1,i.potTai=0,i.potXiu=0,i.numBetTai=0,i.numBetXiu=0,i.checksum="",i.md5="",i.referenceId=0,i.realPotTai=0,i.realPotXiu=0,i.remainTime=i.getShort(),i.bettingState=i.getBool(),i.potTai=i.getLong(),i.potXiu=i.getLong(),i.numBetTai=i.getShort(),i.numBetXiu=i.getShort(),i.checksum=i.getString(),i.md5=i.getString(),i.referenceId=i.getLong(),i.realPotTai=i.getLong(),i.realPotXiu=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveUpdateTime=h;var b=function(t){function e(e){var i=t.call(this,e)||this;return i.result=0,i.dice1=0,i.dice2=0,i.dice3=0,i.result=i.getShort(),i.dice1=i.getShort(),i.dice2=i.getShort(),i.dice3=i.getShort(),i}return n(e,t),e}(c.default);t.ReceiveDicesResult=b;var f=function(t){function e(e){var i=t.call(this,e)||this;return i.moneyType=1,i.totalMoney=0,i.currentMoney=0,i.moneyType=i.getShort(),i.totalMoney=i.getLong(),i.currentMoney=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveResult=f;var m=function(t){function e(e){var i=t.call(this,e)||this;return i.moneyRefund=0,i.moneyRefund=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveRefund=m;var g=function(t){function e(e){var i=t.call(this,e)||this;return i.referenceId=0,i.remainTimeRutLoc=0,i.jpTai=0,i.jpXiu=0,i.referenceId=i.getLong(),i.remainTimeRutLoc=i.getShort(),i.jpTai=i.getLong(),i.jpXiu=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveNewGame=g;var T=function(t){function e(e){var i=t.call(this,e)||this;return i.data="",i.data=i.getString(),i}return n(e,t),e}(c.default);t.ReceiveHistories=T;var y=function(t){function e(e){var i=t.call(this,e)||this;return i.result=0,i.currentMoney=0,i.result=i.getError(),i.currentMoney=i.getLong(),i}return n(e,t),e}(c.default);t.ReceiveBet=y;var v=function(t){function e(e){var i=t.call(this,e)||this;return i.jackpot=0,i.nickname="",i.idSession=0,i.idSession=i.getLong(),i.jackpot=i.getLong(),i.nickname=i.getString(),i}return n(e,t),e}(c.default);t.ReceiveJackpotWin=v;var C=function(t){function e(e){var i=t.call(this,e)||this;return i.message="",i.minVipPoint=0,i.timeBan=0,i.userType=0,i.message=i.getString(),i.minVipPoint=i.getByte(),i.timeBan=i.getLong(),i.userType=i.getByte(),i}return n(e,t),e}(c.default);t.ReceiveLogChat=C;var S=function(t){function e(e){var i=t.call(this,e)||this;return i.error=0,i.nickname="",i.message="",i.error=i.getError(),i.nickname=i.getString(),i.message=i.getString(),i}return n(e,t),e}(c.default);t.ReceiveSendChat=S}(a=i.cmd||(i.cmd={})),i.default=a,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.OutPacket":void 0}],"TaiXiuMiniMD5.PanelChat":[function(t,e,i){"use strict";cc._RF.push(e,"76f95QuJOROXZ14AKCVVdDn","TaiXiuMiniMD5.PanelChat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("./TaiXiuMiniMD5.Cmd"),s=t("./TaiXiuMiniMD5.TaiXiuMiniMD5Controller"),l=t("../../../Loading/src/Configs"),p=t("../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5"),u=cc._decorator,d=u.ccclass,h=u.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemChatTemplate=null,e.scrMessage=null,e.edbMessage=null,e}return n(e,t),e.prototype.start=function(){var t=this;this.itemChatTemplate.active=!1,this.edbMessage.node.on("editing-return",function(){t.sendChat()})},e.prototype.show=function(t){this.node.active=t,console.log("[MiniGameNetworkClientMD5]",p.default),t?p.default.getInstance().send(new c.default.SendScribeChat):p.default.getInstance().send(new c.default.SendUnScribeChat)},e.prototype.addMessage=function(t,e){for(var i=null,o=0;o<this.scrMessage.content.childrenCount;o++)if(!(a=this.scrMessage.content.children[o]).active){i=a;break}null==i&&(i=this.scrMessage.content.childrenCount>=50?this.scrMessage.content.children[0]:cc.instantiate(this.itemChatTemplate));var n=0;for(o=0;o<this.scrMessage.content.childrenCount;o++){var a;(a=this.scrMessage.content.children[o])!=i&&(a.zIndex=n++)}i.parent=this.scrMessage.content;var r=i.getChildByName("lblNickname").getComponent(cc.Label);r.string=t+":",r.node.color=t==l.default.Login.Nickname?cc.Color.WHITE.fromHEX("#3bff49"):cc.Color.WHITE.fromHEX("#59f520"),i.getComponent(cc.Label).string=t+": "+e,i.active=!0,i.zIndex=n++,this.scrollToBottom()},e.prototype.sendChat=function(){var t=this.edbMessage.string.trim();0!=t.length&&(this.edbMessage.string="",s.default.instance.sendChat(t))},e.prototype.scrollToBottom=function(){this.scrMessage.scrollToBottom(.2)},a([h(cc.Node)],e.prototype,"itemChatTemplate",void 0),a([h(cc.ScrollView)],e.prototype,"scrMessage",void 0),a([h(cc.EditBox)],e.prototype,"edbMessage",void 0),a([d],e)}(cc.Component);t.PanelChat=e})(r||(r={})),i.default=r.PanelChat,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5":void 0,"./TaiXiuMiniMD5.Cmd":"TaiXiuMiniMD5.Cmd","./TaiXiuMiniMD5.TaiXiuMiniMD5Controller":"TaiXiuMiniMD5.TaiXiuMiniMD5Controller"}],"TaiXiuMiniMD5.PopupDetailHistory":[function(t,e,i){"use strict";cc._RF.push(e,"40b65XsA+1D/6FUGBHtQSHi","TaiXiuMiniMD5.PopupDetailHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../Loading/src/Http"),c=t("../../../Loading/src/Configs"),s=t("./TaiXiuMiniMD5.TaiXiuMiniMD5Controller"),l=t("../../../Lobby/LobbyScript/Script/common/Dialog"),p=t("../../../Lobby/LobbyScript/Script/common/Utils"),u=t("../../../Lobby/LobbyScript/Script/common/App"),d=cc._decorator,h=d.ccclass,b=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblSession=null,e.lblResult=null,e.lblPage=null,e.lblTotalBetTai=null,e.lblTotalBetXiu=null,e.lblTotalRefundTai=null,e.lblTotalRefundXiu=null,e.sfDices=[],e.sfTai=null,e.sfXiu=null,e.sprDice1=null,e.sprDice2=null,e.sprDice3=null,e.sprResult=null,e.sprResult_Tai=null,e.sprResult_Xiu=null,e.itemTemplate=null,e.items=[],e.inited=!1,e.session=0,e.page=1,e.totalPage=1,e.historiesTai=[],e.historiesXiu=[],e.totalBetTai=0,e.totalRefundTai=0,e.totalBetXiu=0,e.totalRefundXiu=0,e}return n(e,t),e.prototype.showDetail=function(t){this.session=t,this.show()},e.prototype.show=function(){if(t.prototype.show.call(this),u.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblResult.string="",this.inited)for(var e=0;e<this.items.length;e++)this.items[e].active=!1;else{for(this.itemTemplate.active=!1,e=0;e<9;e++){var i=cc.instantiate(this.itemTemplate);i.parent=this.itemTemplate.parent,i.active=!1,this.items.push(i)}this.inited=!0}},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.loadData()},e.prototype.loadData=function(){for(var t=this,e=0;e<this.items.length;e++)this.items[e].active=!1;this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblResult.string="",this.totalBetTai=0,this.totalBetXiu=0,this.totalRefundTai=0,this.totalRefundXiu=0,u.default.instance.showLoading(!0),r.default.get(c.default.App.API,{c:2502,rid:this.session,mt:c.default.App.MONEY_TYPE},function(e,i){if(null==e&&(t.historiesTai=[],t.historiesXiu=[],u.default.instance.showLoading(!1),i.success&&null!==i.resultTX)){for(var o=0;o<i.transactions.length;o++){var n=i.transactions[o];1===n.betSide?(t.historiesTai.push(n),t.totalBetTai+=n.betValue,t.totalRefundTai+=n.refund):(t.historiesXiu.push(n),t.totalBetXiu+=n.betValue,t.totalRefundXiu+=n.refund)}for(o=0;o<t.items.length;o++)t.items[o].active=!1;t.page=1,t.totalPage=t.historiesXiu.length>t.historiesTai.length?t.historiesXiu.length:t.historiesTai.length,t.totalPage=Math.ceil(t.totalPage/t.items.length),t.lblPage.string=t.page+"/"+t.totalPage,t.lblSession.string="Phi\xean: #"+i.resultTX.referenceId,t.lblResult.string=1==i.resultTX.result?" - T\xe0i "+(i.resultTX.dice1+i.resultTX.dice2+i.resultTX.dice3)+"("+i.resultTX.dice1+"-"+i.resultTX.dice2+"-"+i.resultTX.dice3+")":" - X\u1ec9u "+(i.resultTX.dice1+i.resultTX.dice2+i.resultTX.dice3)+"("+i.resultTX.dice1+"-"+i.resultTX.dice2+"-"+i.resultTX.dice3+")",t.lblTotalBetTai.string=p.default.formatNumber(t.totalBetTai)+" / "+p.default.formatNumber(t.totalRefundTai),t.lblTotalBetXiu.string=p.default.formatNumber(t.totalBetXiu)+" / "+p.default.formatNumber(t.totalRefundXiu),t.sprDice1.spriteFrame=t.sfDices[i.resultTX.dice1],t.sprDice1.node.active=!0,t.sprDice2.spriteFrame=t.sfDices[i.resultTX.dice2],t.sprDice2.node.active=!0,t.sprDice3.spriteFrame=t.sfDices[i.resultTX.dice3],t.sprDice3.node.active=!0,1==i.resultTX.result?(cc.Tween.stopAllByTarget(t.sprResult_Tai),cc.Tween.stopAllByTarget(t.sprResult_Xiu),t.sprResult_Tai.scale=.6,t.sprResult_Xiu.scale=.6,cc.tween(t.sprResult_Tai).repeatForever(cc.tween().sequence(cc.tween().to(.3,{scale:.7}),cc.tween().to(.3,{scale:.6}),cc.tween().to(.3,{scale:.5}),cc.tween().to(.3,{scale:.6}))).start()):(cc.Tween.stopAllByTarget(t.sprResult_Tai),cc.Tween.stopAllByTarget(t.sprResult_Xiu),t.sprResult_Tai.scale=.6,t.sprResult_Xiu.scale=.6,cc.tween(t.sprResult_Xiu).repeatForever(cc.tween().sequence(cc.tween().to(.3,{scale:.7}),cc.tween().to(.3,{scale:.6}),cc.tween().to(.3,{scale:.5}),cc.tween().to(.3,{scale:.6}))).start()),t.loadDataPage()}})},e.prototype.loadDataPage=function(){for(var t=0;t<this.items.length;t++){var e=(this.page-1)*this.items.length+t,i=this.items[t];if(i.active=!0,e<this.historiesTai.length){var o=this.historiesTai[e];i.getChildByName("Time").getComponent(cc.Label).string=(o.inputTime<10?"00:0":"00:")+o.inputTime,i.getChildByName("Account").getComponent(cc.Label).string=o.username,i.getChildByName("Refund").getComponent(cc.Label).string=p.default.formatNumber(o.refund),i.getChildByName("Bet").getComponent(cc.Label).string=p.default.formatNumber(o.betValue),i.getChildByName("Jackpot").getComponent(cc.Label).string=p.default.formatNumber(o.jpAmount)}else i.getChildByName("Time").getComponent(cc.Label).string="",i.getChildByName("Account").getComponent(cc.Label).string="",i.getChildByName("Refund").getComponent(cc.Label).string="",i.getChildByName("Bet").getComponent(cc.Label).string="",i.getChildByName("Jackpot").getComponent(cc.Label).string="";e<this.historiesXiu.length?(o=this.historiesXiu[e],i.getChildByName("Time2").getComponent(cc.Label).string=(o.inputTime<10?"00:0":"00:")+o.inputTime,i.getChildByName("Account2").getComponent(cc.Label).string=o.username,i.getChildByName("Refund2").getComponent(cc.Label).string=p.default.formatNumber(o.refund),i.getChildByName("Bet2").getComponent(cc.Label).string=p.default.formatNumber(o.betValue),i.getChildByName("Jackpot2").getComponent(cc.Label).string=p.default.formatNumber(o.jpAmount)):(i.getChildByName("Time2").getComponent(cc.Label).string="",i.getChildByName("Account2").getComponent(cc.Label).string="",i.getChildByName("Refund2").getComponent(cc.Label).string="",i.getChildByName("Bet2").getComponent(cc.Label).string="",i.getChildByName("Jackpot2").getComponent(cc.Label).string="")}this.lblPage.string=this.page+"/"+this.totalPage},e.prototype.actNextPage=function(){this.page++,this.page>this.totalPage&&(this.page=this.totalPage),this.loadDataPage()},e.prototype.actPrevPage=function(){this.page--,this.page<1&&(this.page=1),this.loadDataPage()},e.prototype.actNextSession=function(){this.session++,this.session>s.default.instance.histories[s.default.instance.histories.length-1].session?this.session=s.default.instance.histories[s.default.instance.histories.length-1].session:this.loadData()},e.prototype.actPrevSession=function(){this.session--,this.loadData()},a([b(cc.Label)],e.prototype,"lblSession",void 0),a([b(cc.Label)],e.prototype,"lblResult",void 0),a([b(cc.Label)],e.prototype,"lblPage",void 0),a([b(cc.Label)],e.prototype,"lblTotalBetTai",void 0),a([b(cc.Label)],e.prototype,"lblTotalBetXiu",void 0),a([b(cc.Label)],e.prototype,"lblTotalRefundTai",void 0),a([b(cc.Label)],e.prototype,"lblTotalRefundXiu",void 0),a([b([cc.SpriteFrame])],e.prototype,"sfDices",void 0),a([b(cc.SpriteFrame)],e.prototype,"sfTai",void 0),a([b(cc.SpriteFrame)],e.prototype,"sfXiu",void 0),a([b(cc.Sprite)],e.prototype,"sprDice1",void 0),a([b(cc.Sprite)],e.prototype,"sprDice2",void 0),a([b(cc.Sprite)],e.prototype,"sprDice3",void 0),a([b(cc.Sprite)],e.prototype,"sprResult",void 0),a([b(cc.Node)],e.prototype,"sprResult_Tai",void 0),a([b(cc.Node)],e.prototype,"sprResult_Xiu",void 0),a([b(cc.Node)],e.prototype,"itemTemplate",void 0),a([h],e)}(l.default);i.default=f,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"./TaiXiuMiniMD5.TaiXiuMiniMD5Controller":"TaiXiuMiniMD5.TaiXiuMiniMD5Controller"}],"TaiXiuMiniMD5.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"1995cPiMlJBrLKh9y+LLm2w","TaiXiuMiniMD5.PopupHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("../../../Loading/src/Configs"),s=t("../../../Loading/src/Http"),l=t("../../../Lobby/LobbyScript/Script/common/App"),p=t("../../../Lobby/LobbyScript/Script/common/Dialog"),u=t("../../../Lobby/LobbyScript/Script/common/Utils"),d=cc._decorator,h=d.ccclass,b=d.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblPage=null,e.prefab=null,e.scroll=null,e.page=1,e.maxPage=1,e.items=new Array,e.historyData=[],e.totalPageLoaded=0,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.show=function(){t.prototype.show.call(this),l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.historyData=[],this.totalPageLoaded=0,cc.tween(this.node).to(.5,{y:0},{easing:cc.easing.cubicOut}).start();for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype.dismiss=function(){t.prototype.dismiss.call(this),cc.tween(this.node).to(.5,{y:-100},{easing:cc.easing.sineOut}).start(),this.scroll.content.removeAllChildren();for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()},e.prototype.actNextPage=function(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.actPrevPage=function(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())},e.prototype.loadData=function(t){var e=this;void 0===t&&(t=!0),l.default.instance.showLoading(!0),s.default.get(c.default.App.API,{c:2050,p:this.page,un:c.default.Login.Nickname,mt:c.default.App.MONEY_TYPE,txType:1},function(t,i){l.default.instance.showLoading(!1),null==t&&i.success&&(e.totalPageLoaded++,e.maxPage=i.totalPages,e.lblPage.string=e.page+"/"+e.maxPage,e.loadHistory(i.transactions))})},e.prototype.loadHistory=function(t){this.scroll.content.removeAllChildren();for(var e=0;e<t.length;e++){var i=cc.instantiate(this.prefab);i.parent=this.scroll.content,this.setItemData(i,t[e])}},e.prototype.setItemData=function(t,e){var i=e.index;t.getChildByName("bg").opacity=i%2==0?255:0,t.getChildByName("lblSession").getComponent(cc.Label).string="#"+e.referenceId,t.getChildByName("lblTime").getComponent(cc.Label).string=e.timestamp.replace(" ","\n"),t.getChildByName("lblBetDoor").getComponent(cc.Label).string=1==e.betSide?"T\xc0I":"X\u1ec8U",t.getChildByName("lblResult").getComponent(cc.Label).string=e.resultPhien,t.getChildByName("lblBet").getComponent(cc.Label).string=u.default.formatNumber(e.betValue),t.getChildByName("lblRefund").getComponent(cc.Label).string=u.default.formatNumber(e.totalRefund),t.getChildByName("lblJackpot").getComponent(cc.Label).string=u.default.formatNumber(e.totalJp),t.getChildByName("lblRefund").getComponent(cc.Label).node.color=e.totalRefund>0?new cc.Color(240,191,11):new cc.Color(240,48,11),t.getChildByName("lblWin").getComponent(cc.Label).string=u.default.formatNumber(e.totalPrize),t.getChildByName("lblWin").getComponent(cc.Label).node.color=e.totalPrize>0?new cc.Color(240,191,11):new cc.Color(240,48,11),t.active=!0},e.prototype.onScrollEvent=function(t,e){e==cc.ScrollView.EventType.SCROLL_TO_BOTTOM&&this.page<this.maxPage&&(this.page++,this.loadData(!1))},a([b(cc.Label)],e.prototype,"lblPage",void 0),a([b(cc.Node)],e.prototype,"prefab",void 0),a([b(cc.ScrollView)],e.prototype,"scroll",void 0),a([h],e)}(p.default);t.PopupHistory=e})(r||(r={})),i.default=r.PopupHistory,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMiniMD5.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"c695f/MTrpCcZ5IAIxiEXN1","TaiXiuMiniMD5.PopupHonors");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("../../../Loading/src/Configs"),s=t("../../../Loading/src/Http"),l=t("../../../Lobby/LobbyScript/Script/common/App"),p=t("../../../Lobby/LobbyScript/Script/common/Dialog"),u=t("../../../Lobby/LobbyScript/Script/common/ScrollViewControl"),d=t("../../../Lobby/LobbyScript/Script/common/Utils"),h=cc._decorator,b=h.ccclass,f=h.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.sprRank=[],e.items=new Array,e.scrView=null,e.dataList=[],e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this),l.default.instance.showBgMiniGame("TaiXiuOverMd5");for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.loadData()},e.prototype.loadData=function(){var t=this;l.default.instance.showLoading(!0),s.default.get(c.default.App.API,{c:2051,mt:c.default.App.MONEY_TYPE,txType:1},function(e,i){l.default.instance.showLoading(!1),null==e&&i.success&&(t.dataList=i.topTX.slice(),t.scrView.setDataList(function(e,i){e.getChildByName("bg").opacity=e.itemID%2==0?255:0,e.getChildByName("lblRank").getComponent(cc.Label).string=(e.itemID+1).toString(),e.getChildByName("lblAccount").getComponent(cc.Label).string=i.username,e.getChildByName("lblWin").getComponent(cc.Label).string=d.default.formatNumber(i.money),e.itemID<3?(e.getChildByName("ic_rank").active=!0,e.getChildByName("lblRank").active=!1,e.getChildByName("ic_rank").getComponent(cc.Sprite).spriteFrame=t.sprRank[i.index]):(e.getChildByName("ic_rank").active=!1,e.getChildByName("lblRank").active=!0),e.active=!0},t.dataList))})},a([f(cc.Node)],e.prototype,"itemTemplate",void 0),a([f([cc.SpriteFrame])],e.prototype,"sprRank",void 0),a([f(u.default)],e.prototype,"scrView",void 0),a([b],e)}(p.default);t.PopupHonors=e})(r||(r={})),i.default=r.PopupHonors,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/ScrollViewControl":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMiniMD5.PopupSoiCau":[function(t,e,i){"use strict";cc._RF.push(e,"4de7evHc9dGPq8L+LDjUlJH","TaiXiuMiniMD5.PopupSoiCau");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("../../../Lobby/LobbyScript/Script/common/App"),s=t("../../../Lobby/LobbyScript/Script/common/Dialog"),l=t("../../../Lobby/LobbyScript/Script/common/Utils"),p=t("./TaiXiuMiniMD5.TaiXiuMiniMD5Controller"),u=cc._decorator,d=u.ccclass,h=u.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineTemplate=null,e.iconTaiTemplate=null,e.iconXiuTemplate=null,e.iconXX1Template=null,e.iconXX2Template=null,e.iconXX3Template=null,e.iconNumberTaiTemplate=null,e.iconNumberXiuTemplate=null,e.page1=null,e.lblLastSession=null,e.xx1Draw=null,e.xx2Draw=null,e.xx3Draw=null,e.xx123Draw=null,e.page2=null,e.lblTai1=null,e.lblTai2=null,e.lblXiu1=null,e.lblXiu2=null,e.contentDraw=null,e}return n(e,t),e.prototype.show=function(){t.prototype.show.call(this),c.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.page1.active=!1,this.page2.active=!1,this.lineTemplate.parent.active=!1},e.prototype.dismiss=function(){t.prototype.dismiss.call(this),this.page1.active=!1,this.page2.active=!1},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.drawPage1(),this.page1.active=!0,this.page2.active=!1},e.prototype.toggleXX1=function(t){this.xx1Draw.active=t.isChecked},e.prototype.toggleXX2=function(t){this.xx2Draw.active=t.isChecked},e.prototype.toggleXX3=function(t){this.xx3Draw.active=t.isChecked},e.prototype.togglePage=function(){this.page1.active=!this.page1.active,this.page2.active=!this.page1.active,this.page1.active?this.drawPage1():this.drawPage2()},e.prototype.drawPage1=function(){var t=p.default.instance.histories.slice();t.length>21&&t.splice(0,t.length-21);var e=t[t.length-1],i=e.dices,o=i[0]+i[1]+i[2];this.lblLastSession.string="Phi\xean g\u1ea7n nh\u1ea5t: (#"+e.session+")  "+(o>=11?"T\xc0I":"X\u1ec8U")+"  "+o+"("+i[0]+"-"+i[1]+"-"+i[2]+")",this.xx1Draw.removeAllChildren(),this.xx2Draw.removeAllChildren(),this.xx3Draw.removeAllChildren(),this.xx123Draw.removeAllChildren();for(var n=0,a=t.length-1;a>=0;a--){var r=t[a].dices,c=r[0]+r[1]+r[2],s=cc.v2(337.215-31.83*n,31*(r[0]-1)-274.135),u=cc.v2(337.215-31.83*n,31*(r[1]-1)-274.135),d=cc.v2(337.215-31.83*n,31*(r[2]-1)-274.135),h=cc.v2(337.215-31.83*n,31/3*(c-3)-13.907),b=cc.instantiate(this.iconXX1Template);b.parent=this.xx1Draw,b.setPosition(s);var f=cc.instantiate(this.iconXX2Template);f.parent=this.xx2Draw,f.setPosition(u);var m=cc.instantiate(this.iconXX3Template);m.parent=this.xx3Draw,m.setPosition(d);var g=cc.instantiate(c>=11?this.iconTaiTemplate:this.iconXiuTemplate);if(g.parent=this.xx123Draw,g.setPosition(h),n>0){c=(r=t[a+1].dices)[0]+r[1]+r[2];var T=cc.v2(337.215-31.83*(n-1),31*(r[0]-1)-274.135),y=cc.v2(337.215-31.83*(n-1),31*(r[1]-1)-274.135),v=cc.v2(337.215-31.83*(n-1),31*(r[2]-1)-274.135),C=cc.v2(337.215-31.83*(n-1),31/3*(c-3)-13.907),S=cc.instantiate(this.lineTemplate);S.parent=this.xx1Draw,S.width=l.default.v2Distance(s,T),S.setPosition(s),S.angle=l.default.v2Degrees(s,T),S.color=cc.Color.BLACK.fromHEX("#c7452b"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx2Draw,S.width=l.default.v2Distance(u,y),S.setPosition(u),S.angle=l.default.v2Degrees(u,y),S.color=cc.Color.BLACK.fromHEX("#9fd100"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx3Draw,S.width=l.default.v2Distance(d,v),S.setPosition(d),S.angle=l.default.v2Degrees(d,v),S.color=cc.Color.BLACK.fromHEX("#3980d8"),S.zIndex=0,(S=cc.instantiate(this.lineTemplate)).parent=this.xx123Draw,S.width=l.default.v2Distance(h,C),S.setPosition(h),S.angle=l.default.v2Degrees(h,C),S.color=cc.Color.BLACK.fromHEX("#fdfdfb"),S.zIndex=-1}n++}},e.prototype.drawPage2=function(){var t=-295.979,e=113.257;this.contentDraw.removeAllChildren();var i=[],o=[],n=p.default.instance.histories.length,a=0,r=0;if(n>1)for(var c=p.default.instance.histories[0].dices,s=(T=c[0]+c[1]+c[2])>=11,l=0;l<n;l++){var u=(T=(c=p.default.instance.histories[l].dices)[0]+c[1]+c[2])>=11;u!==s?(o.length>5&&o.splice(0,o.length-5),i.push(o),s?a+=o.length:r+=o.length,s=u,(o=[]).push(T)):o.push(T),l===n-1&&(o.length>5&&o.splice(0,o.length-5),i.push(o),s?a+=o.length:r+=o.length)}i.length>20&&i.splice(0,i.length-20),this.lblTai1.string=a+"",this.lblXiu1.string=r+"";for(var d=0;d<i.length;d++)for(var h=0;h<i[d].length;h++){var b=i[d][h],f=null;(f=b>=11?cc.instantiate(this.iconNumberTaiTemplate):cc.instantiate(this.iconNumberXiuTemplate)).parent=this.contentDraw,f.setPosition(cc.v2(t+32.5*d,e-32*h)),f.children[0].getComponent(cc.Label).string=""+b}t=-295.979,e=-127.113;var m=0,g=0;for(a=0,r=0,(i=p.default.instance.histories.slice()).length>100&&i.splice(0,i.length-100),l=0;l<i.length;l++){var T;(T=i[l].dices[0]+i[l].dices[1]+i[l].dices[2])>=11?a++:r++;var y=cc.instantiate(T>=11?this.iconTaiTemplate:this.iconXiuTemplate);y.parent=this.contentDraw,y.setPosition(t+32.5*m,e-32*g-2),++g>=5&&(g=0,m++)}this.lblTai2.string=a+"",this.lblXiu2.string=r+""},a([h(cc.Node)],e.prototype,"lineTemplate",void 0),a([h(cc.Node)],e.prototype,"iconTaiTemplate",void 0),a([h(cc.Node)],e.prototype,"iconXiuTemplate",void 0),a([h(cc.Node)],e.prototype,"iconXX1Template",void 0),a([h(cc.Node)],e.prototype,"iconXX2Template",void 0),a([h(cc.Node)],e.prototype,"iconXX3Template",void 0),a([h(cc.Node)],e.prototype,"iconNumberTaiTemplate",void 0),a([h(cc.Node)],e.prototype,"iconNumberXiuTemplate",void 0),a([h(cc.Node)],e.prototype,"page1",void 0),a([h(cc.Label)],e.prototype,"lblLastSession",void 0),a([h(cc.Node)],e.prototype,"xx1Draw",void 0),a([h(cc.Node)],e.prototype,"xx2Draw",void 0),a([h(cc.Node)],e.prototype,"xx3Draw",void 0),a([h(cc.Node)],e.prototype,"xx123Draw",void 0),a([h(cc.Node)],e.prototype,"page2",void 0),a([h(cc.Label)],e.prototype,"lblTai1",void 0),a([h(cc.Label)],e.prototype,"lblTai2",void 0),a([h(cc.Label)],e.prototype,"lblXiu1",void 0),a([h(cc.Label)],e.prototype,"lblXiu2",void 0),a([h(cc.Node)],e.prototype,"contentDraw",void 0),a([d],e)}(s.default);t.PopupSoiCau=e})(r||(r={})),i.default=r.PopupSoiCau,cc._RF.pop()},{"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"./TaiXiuMiniMD5.TaiXiuMiniMD5Controller":"TaiXiuMiniMD5.TaiXiuMiniMD5Controller"}],"TaiXiuMiniMD5.PopupThanhDu":[function(t,e,i){"use strict";cc._RF.push(e,"e297c5Kf7ZIB58edOiPJJAV","TaiXiuMiniMD5.PopupThanhDu");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r,c=t("../../../Loading/src/Configs"),s=t("../../../Loading/src/Http"),l=t("../../../Lobby/LobbyScript/Script/common/App"),p=t("../../../Lobby/LobbyScript/Script/common/Dialog"),u=t("../../../Lobby/LobbyScript/Script/common/Utils"),d=cc._decorator,h=d.ccclass,b=d.property;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprTabNormal=null,e.sprTabActive=null,e.tabs=null,e.childTabs=null,e.itemTemplate=null,e.lblDate=null,e.selectedTab=0,e.selectedChildTab=0,e.date=new Date,e.items=new Array,e}return n(e,t),e.prototype.start=function(){for(var t=this,e=function(e){i.tabs.children[e].on("click",function(){t.selectedTab=e,t.selectedChildTab=0,t.date=new Date,t.updateTabSpriteFrame(),t.loadData()})},i=this,o=0;o<this.tabs.childrenCount;o++)e(o);var n=function(e){a.childTabs.children[e].on("click",function(){t.selectedChildTab=e,t.updateTabSpriteFrame(),t.loadData()})},a=this;for(o=0;o<this.childTabs.childrenCount;o++)n(o)},e.prototype.dismiss=function(){t.prototype.dismiss.call(this);for(var e=0;e<this.items.length;e++)this.items[e].active=!1},e.prototype.show=function(){t.prototype.show.call(this),l.default.instance.showBgMiniGame("TaiXiuOverMd5");for(var e=0;e<this.items.length;e++)this.items[e].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)},e.prototype._onShowed=function(){t.prototype._onShowed.call(this),this.selectedTab=0,this.selectedChildTab=0,this.updateTabSpriteFrame(),this.loadData()},e.prototype.actNext=function(){0===this.selectedTab?this.date.setDate(this.date.getDate()+1):this.date.setMonth(this.date.getMonth()+1),this.loadData()},e.prototype.actPrev=function(){0===this.selectedTab?this.date.setDate(this.date.getDate()-1):this.date.setMonth(this.date.getMonth()-1),this.loadData()},e.prototype.updateTabSpriteFrame=function(){for(var t=0;t<this.tabs.childrenCount;t++)this.tabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedTab==t?this.sprTabActive:this.sprTabNormal;for(t=0;t<this.childTabs.childrenCount;t++)this.childTabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedChildTab==t?this.sprTabActive:this.sprTabNormal},e.prototype.loadData=function(){var t=this;l.default.instance.showLoading(!0);var e=0===this.selectedChildTab?1:0,i=0===this.selectedTab?u.default.dateToYYYYMMdd(this.date):u.default.dateToYYYYMM(this.date);this.lblDate.string=i;var o=0===this.selectedTab?{c:103,date:i,type:e,txType:1}:{c:103,month:i,type:e,txType:1};s.default.get(c.default.App.API,o,function(e,i){if(l.default.instance.showLoading(!1),null==e&&i.success){if(0==t.items.length){for(var o=0;o<10;o++)(a=cc.instantiate(t.itemTemplate)).parent=t.itemTemplate.parent,t.items.push(a);t.itemTemplate.destroy(),t.itemTemplate=null}for(var n=0;n<t.items.length;n++){var a=t.items[n];if(n<i.results.length){var r=i.results[n];a.getChildByName("bg").opacity=n%2==0?10:0,a.getChildByName("no").getComponent(cc.Label).string=(n+1).toString(),a.getChildByName("account").getComponent(cc.Label).string=r.username,a.getChildByName("count").getComponent(cc.Label).string=u.default.formatNumber(r.number),a.getChildByName("winlose").getComponent(cc.Label).string=u.default.formatNumber(r.totalMoney),a.getChildByName("session").getComponent(cc.Label).string="#"+r.referenceId,a.getChildByName("award").getComponent(cc.Label).string=r.prize,a.active=!0}else a.active=!1}}})},a([b(cc.SpriteFrame)],e.prototype,"sprTabNormal",void 0),a([b(cc.SpriteFrame)],e.prototype,"sprTabActive",void 0),a([b(cc.Node)],e.prototype,"tabs",void 0),a([b(cc.Node)],e.prototype,"childTabs",void 0),a([b(cc.Node)],e.prototype,"itemTemplate",void 0),a([b(cc.Label)],e.prototype,"lblDate",void 0),a([h],e)}(p.default);t.PopupThanhDu=e})(r||(r={})),i.default=r.PopupThanhDu,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Loading/src/Http":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/Dialog":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0}],"TaiXiuMiniMD5.TaiXiuMiniMD5Controller":[function(t,e,i){"use strict";cc._RF.push(e,"2f7catHEMBIIZUemL0007dq","TaiXiuMiniMD5.TaiXiuMiniMD5Controller");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__decorate||function(t,e,i,o){var n,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,i,r):n(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0}),i.SoundManager=void 0;var r,c,s=t("../../../Loading/src/Configs"),l=t("../../../Lobby/LobbyScript/Script/common/App"),p=t("../../../Lobby/LobbyScript/Script/common/BroadcastReceiver"),u=t("../../../Lobby/LobbyScript/Script/common/SPUtils"),d=t("../../../Lobby/LobbyScript/Script/common/Tween"),h=t("../../../Lobby/LobbyScript/Script/common/Utils"),b=t("../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5"),f=t("../../../Lobby/LobbyScript/Script/networks/Network.InPacket"),m=t("../src/TaiXiuDoubleMD5.Controller"),g=t("./TaiXiuMiniMD5.Cmd"),T=t("./TaiXiuMiniMD5.PanelChat"),y=cc._decorator,v=y.ccclass,C=y.property;(function(t){t[t.None=0]="None",t[t.Tai=1]="Tai",t[t.Xiu=2]="Xiu"})(r||(r={})),function(t){t[t.WIN=0]="WIN",t[t.DICE=1]="DICE",t[t.CLOCK=2]="CLOCK"}(c||(c={}));var S=function(){function t(){this.nodeSelf=null,this.taixiuView=null,this.effSound=null,this.listAudio=[]}return t.prototype.playAudioEffect=function(t){this.taixiuView.active&&u.default.getSoundVolumn()>0&&(this.effSound.clip=this.listAudio[t],this.effSound.play())},a([C(cc.Node)],t.prototype,"nodeSelf",void 0),a([C(cc.Node)],t.prototype,"taixiuView",void 0),a([C(cc.AudioSource)],t.prototype,"effSound",void 0),a([C([cc.AudioClip])],t.prototype,"listAudio",void 0),a([v("TaiXiuMiniMD5.TaiXiuMiniMD5Controller.SoundManager")],t)}();i.SoundManager=S;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollChat=null,e.chatNhanh=null,e.contentChatNhanh=null,e.bgSpine=null,e.bgSpinez=null,e.gamePlay=null,e.sprDices=new Array,e.sprFrameTai=null,e.sprFrameXiu=null,e.sprFrameBtnNan=null,e.sprFrameBtnNan2=null,e.lblSession=null,e.lblRemainTime=null,e.lblRemainTime2=null,e.lblScore=null,e.lblUserTai=null,e.lblUserXiu=null,e.lblTotalBetTai=null,e.lblTotalBetXiu=null,e.lblBetTai=null,e.lblBetXiu=null,e.lblbtnbettai=null,e.lblbtnbetxiu=null,e.lblBetedTai=null,e.lblBetedXiu=null,e.lblChecksum=null,e.dice1=null,e.dice2=null,e.dice3=null,e.bowl=null,e.tai=null,e.xiu=null,e.btnHistories=null,e.nodePanelChat=null,e.layoutBet=null,e.layoutBet1=null,e.buttonsBet1=new Array,e.lblToast=null,e.lblWinCash=null,e.btnNan=null,e.popupContainer=null,e.animJP=null,e.lbJackPot=null,e.lbJackPotTai=null,e.lbJackPotXiu=null,e.fontTime=[],e.soundManager=null,e.popups=[],e.popupsPr=[],e.isBetting=!1,e.remainTime=0,e.canBet=!0,e.betedTai=0,e.betedXiu=0,e.referenceId=0,e.betingValue=-1,e.betingDoor=r.None,e.isOpenBowl=!1,e.isAllowOpenBow=!1,e.lastWinCash=0,e.lastScore=0,e.isNan=!1,e.histories=[],e.isCanChat=!0,e.panelChat=null,e.maxBetValue=999999999,e.listBets=[1e3,1e4,5e4,1e5,5e5,1e6,5e6,1e7,5e7],e.bowlStartPos=cc.v2(-260.219,52.018),e.currentBtnBet=null,e.arrTimeoutDice=[],e.popupHonor=null,e.popupHistory=null,e.popupGuide=null,e.popupThanhDu=null,e.popupSoiCau=null,e.popupDetailSession=null,e.sessionId=0,e.jackpotData=null,e.resultData=null,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){i.instance=this,this.layoutBet.y=28;for(var t=this,e=function(){var e=o.contentChatNhanh.children[n];e.on("click",function(){t.sendChat(e.children[0].getComponent(cc.Label).string),t.scrollChat.active=!0,t.chatNhanh.active=!1})},o=this,n=0;n<this.contentChatNhanh.childrenCount;n++)e()},e.prototype.toggleChatNhanh=function(){0==this.chatNhanh.active?(this.chatNhanh.active=!0,this.scrollChat.active=!1):(this.chatNhanh.active=!1,this.scrollChat.active=!0)},e.prototype.onDisable=function(){for(var t=0;t<this.arrTimeoutDice.length;t++)clearTimeout(this.arrTimeoutDice[t]);this.arrTimeoutDice=[]},e.prototype.getAnimationDiceStart=function(t){var e="";return 1==t?e="#1 WHITE_F1":2==t?e="#1 WHITE_F2":3==t?e="#1 WHITE_F3":4==t?e="#1 WHITE_F4":5==t?e="#1 WHITE_F5":6==t&&(e="#1 WHITE_F6"),e},e.prototype.getAnimationDiceEnd=function(t){var e="";return 1==t?e="#1 END_F1":2==t?e="#1 END_F2":3==t?e="#1 END_F3":4==t?e="#1 END_F4":5==t?e="#1 END_F5":6==t&&(e="#1 END_F6"),e},e.prototype.onFocusInEditor=function(){},e.prototype.setupTimeRunInBg=function(){var t=this;cc.game.on(cc.game.EVENT_SHOW,function(){if(t.node.active){null==t.arrTimeoutDice&&(t.arrTimeoutDice=[]);for(var e=0;e<t.arrTimeoutDice.length;e++)clearTimeout(t.arrTimeoutDice[e]);var i=t.lblToast.node.parent;i.stopAllActions(),i.active=!1,i.opacity=0,t.arrTimeoutDice=[]}})},e.prototype.start=function(){var t=this;this.setupTimeRunInBg(),b.default.getInstance().addListener(function(e){if(t.node.active)switch(new f.default(e).getCmdId()){case g.default.Code.GAME_INFO:var i=new g.default.ReceiveGameInfo(e);if(t.stopWin(),console.log("[cmd.Code.GAME_INFO]",i),t.bowl.active=!0,t.isAllowOpenBow=!1,i.bettingState?(t.isBetting=!0,t.dice1.node.active=!1,t.dice2.node.active=!1,t.dice3.node.active=!1,t.lblRemainTime.node.active=!0,t.lblRemainTime.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.lblRemainTime.font=i.remainTime<10?t.fontTime[1]:t.fontTime[0],t.lblRemainTime2.node.parent.active=!1,t.lblRemainTime2.node.active=!1,t.lblScore.node.parent.active=!1,t.lblScore.node.active=!1):(console.log("[ cmd.Code.GAME_INFO] setDice"),i.remainTime<=3?t.isAllowOpenBow=!1:t.isAllowOpenBow=!0,t.lastScore=i.dice1+i.dice2+i.dice3,t.isBetting=!1,t.dice1.node.active=!0,t.dice1.setAnimation(0,t.getAnimationDiceEnd(i.dice1),!1),t.dice2.node.active=!0,t.dice2.setAnimation(0,t.getAnimationDiceEnd(i.dice2),!1),t.dice3.node.active=!0,t.dice3.setAnimation(0,t.getAnimationDiceEnd(i.dice3),!1),t.lblRemainTime.node.active=!1,t.lblRemainTime2.node.parent.active=!0,t.lblRemainTime2.node.active=!0,t.lblRemainTime2.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.showResult()),i.bettingState)d.default.numberTo(t.lblTotalBetTai,i.potTai,.3),d.default.numberTo(t.lblTotalBetXiu,i.potXiu,.3);else{i.remainTime;var o=i.potTai>i.potXiu?i.potXiu:i.potTai;t.lblTotalBetTai.string=h.default.formatNumber(o),t.lblTotalBetXiu.string=h.default.formatNumber(o)}d.default.numberTo(t.lbJackPotTai,10*(i.jpTai+i.jpXiu),1),d.default.numberTo(t.lbJackPotXiu,i.jpXiu,1),t.betedTai=i.betTai,t.lblBetedTai.string=h.default.formatNumber(t.betedTai),t.betedXiu=i.betXiu,t.lblBetedXiu.string=h.default.formatNumber(t.betedXiu),t.referenceId=i.referenceId,t.lblSession.string="#"+i.referenceId,t.sessionId=i.referenceId,t.remainTime=i.remainTime;break;case g.default.Code.UPDATE_TIME:if((i=new g.default.ReceiveUpdateTime(e)).bettingState)t.bowl.active=!0,t.bowl.setPosition(t.bowlStartPos),50==i.remainTime&&t.showToast(l.default.instance.getTextLang("txt_taixiu_new_session")),t.lblChecksum.string=i.checksum,t.isBetting=!0,t.lblRemainTime.node.active=!0,t.lblRemainTime.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.lblRemainTime.font=i.remainTime<10?t.fontTime[1]:t.fontTime[0],console.log("[cmd.Code.UPDATE_TIME]",i.remainTime),i.remainTime<6?t.lblRemainTime.node.color=cc.Color.RED.fromHEX("#E62727"):t.lblRemainTime.node.color=cc.Color.WHITE.fromHEX("#FFFFFF"),t.lblRemainTime2.node.parent.active=!1,t.lblRemainTime2.node.active=!1,t.lblScore.node.parent.active=!1,t.lblScore.node.active=!1,t.dice1.node.active=!1,t.dice2.node.active=!1,t.dice3.node.active=!1;else{if(i.remainTime>15?i.remainTime-=15:i.remainTime=0,i.remainTime<=3?t.isAllowOpenBow=!1:t.dice3.node.active&&(t.isAllowOpenBow=!0,t.isNan||(t.lblChecksum.string=i.md5)),3==i.remainTime){var n=t;t.bowl.active=!1,t.arrTimeoutDice.push(setTimeout(function(){n.dice1.node.active=!0,n.dice1.setAnimation(0,n.getAnimationDiceStart(1),!1)},0*Math.random())),t.arrTimeoutDice.push(setTimeout(function(){n.dice2.node.active=!0,n.dice2.setAnimation(0,n.getAnimationDiceStart(1),!1)},0*Math.random())),t.arrTimeoutDice.push(setTimeout(function(){n.dice3.node.active=!0,n.dice3.setAnimation(0,n.getAnimationDiceStart(1),!1)},0*Math.random())),t.arrTimeoutDice.push(setTimeout(function(){n.bowl.setPosition(n.bowlStartPos),n.bowl.active=!0},1400)),t.arrTimeoutDice.push(setTimeout(function(){t.node&&t.soundManager.playAudioEffect(c.DICE)},500)),t.dice3.setCompleteListener(function(){t.bowl.active=!0})}t.isBetting=!1,t.lblRemainTime2.node.parent.active=!0,t.lblRemainTime2.node.active=!0,t.lblRemainTime2.string=i.remainTime<10?"0"+i.remainTime:""+i.remainTime,t.lblBetTai.string="\u0110\u1eb6T C\u01af\u1ee2C",t.lblBetXiu.string="\u0110\u1eb6T C\u01af\u1ee2C",i.remainTime<7&&t.isNan&&!t.isOpenBowl&&(console.log("[show rs nan]"),t.bowl.active=!1,t.showResult(),t.showWinCash(),t.isOpenBowl=!0),i.remainTime<7&&(t.lblChecksum.string=i.md5)}i.bettingState&&(d.default.numberTo(t.lblTotalBetTai,i.potTai,.3),d.default.numberTo(t.lblTotalBetXiu,i.potXiu,.3),"Supersoi"==s.default.Login.Nickname&&(console.log("[ Configs.Login.Nickname]",s.default.Login.Nickname),d.default.numberTo(t.lblTotalBetTai,i.realPotTai,.3),d.default.numberTo(t.lblTotalBetXiu,i.realPotXiu,.3))),t.lblUserTai.string=+h.default.formatNumber(i.numBetTai)+1+"0",t.lblUserXiu.string=+h.default.formatNumber(i.numBetXiu)+1+"0";break;case g.default.Code.DICES_RESULT:t.lblRemainTime.node.active=!0,t.lblRemainTime2.node.parent.active=!1,t.arrTimeoutDice.push(setTimeout(function(){var i=new g.default.ReceiveDicesResult(e);t.lastScore=i.dice1+i.dice2+i.dice3,t.lblRemainTime.node.active=!1,t.dice1.node.active=!0,t.dice1.setAnimation(0,t.getAnimationDiceEnd(i.dice1),!1),t.dice2.node.active=!0,t.dice2.setAnimation(0,t.getAnimationDiceEnd(i.dice2),!1),t.dice3.node.active=!0,t.dice3.setAnimation(0,t.getAnimationDiceEnd(i.dice3),!1),t.histories.length>=100&&t.histories.slice(0,1),t.histories.push({session:t.referenceId,dices:[i.dice1,i.dice2,i.dice3]}),t.isNan||(t.lblRemainTime2.node.parent.active=!0,t.lblRemainTime2.node.active=!0,t.bowl.active=!1,t.showResult(),null!=t.jackpotData&&t.handleJackpotWin(t.jackpotData))},2e3));break;case g.default.Code.REFUND:(i=new g.default.ReceiveRefund(e)).moneyRefund,console.log("[cmd.Code.REFUND] res:",i);break;case g.default.Code.RESULT:i=new g.default.ReceiveResult(e),t.resultData=i,null==t.jackpotData&&t.handleResult();break;case g.default.Code.NEW_GAME:i=new g.default.ReceiveNewGame(e),h.default.Log("NEW GAME TX:",i),t.dice1.node.active=!1,t.dice2.node.active=!1,t.dice3.node.active=!1;for(var a=0;a<t.arrTimeoutDice.length;a++)clearTimeout(t.arrTimeoutDice[a]);t.arrTimeoutDice=[],t.lblTotalBetTai.string="0",t.lblTotalBetXiu.string="0",t.lblBetedTai.string="0",t.lblBetedXiu.string="0",t.lblUserTai.string="0",t.lblUserXiu.string="0",t.referenceId=i.referenceId,t.lblSession.string="#"+i.referenceId,t.sessionId=i.referenceId,t.betingValue=-1,t.betingDoor=r.None,t.betedTai=0,t.betedXiu=0,t.isOpenBowl=!1,t.isAllowOpenBow=!1,t.lastWinCash=0,t.jackpotData=null,t.resultData=null,d.default.numberTo(t.lbJackPotTai,10*(i.jpTai+i.jpXiu),1),d.default.numberTo(t.lbJackPotXiu,i.jpXiu,1),t.stopWin();break;case g.default.Code.HISTORIES:var u=(i=new g.default.ReceiveHistories(e)).data.split(",");for(a=0;a<u.length;a++)t.histories.push({session:t.referenceId-u.length/3+parseInt(""+(a+1)/3)+(t.isBetting?0:1),dices:[parseInt(u[a]),parseInt(u[++a]),parseInt(u[++a])]});t.updateBtnHistories();break;case g.default.Code.LOG_CHAT:case g.default.Code.SCRIBE_CHAT:i=new g.default.ReceiveLogChat(e);var b=JSON.parse(i.message);for(a=0;a<b.length;a++)t.panelChat.addMessage(b[a].u,b[a].m);t.panelChat.scrollToBottom();break;case g.default.Code.SEND_CHAT:switch((i=new g.default.ReceiveSendChat(e)).error){case 0:t.panelChat.addMessage(i.nickname,i.message);break;case 2:t.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error"));break;case 3:t.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error1"));break;case 4:t.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error2"));break;default:t.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error3"))}break;case g.default.Code.BET:switch((i=new g.default.ReceiveBet(e)).result){case 0:switch(t.betingDoor){case r.Tai:t.betedTai+=t.betingValue,t.lblBetedTai.string=h.default.formatNumber(t.betedTai);break;case r.Xiu:t.betedXiu+=t.betingValue,t.lblBetedXiu.string=h.default.formatNumber(t.betedXiu)}s.default.Login.Coin=i.currentMoney,p.default.send(p.default.USER_UPDATE_COIN),t.betingValue=-1,t.showToast(l.default.instance.getTextLang("txt_bet_success"));break;case 2:t.betingValue=-1,t.showToast(l.default.instance.getTextLang("txt_bet_error8"));break;case 3:t.betingValue=-1,t.showToast(l.default.instance.getTextLang("txt_not_enough"));break;case 4:t.betingValue=-1,t.showToast(l.default.instance.getTextLang("txt_bet_error7"));break;default:t.betingValue=-1,t.showToast(l.default.instance.getTextLang("txt_bet_error2"))}break;case g.default.Code.JACKPOT:i=new g.default.ReceiveJackpotWin(e),h.default.Log("JACKPOT WIN:",JSON.stringify(i)),t.jackpotData=i}},this);for(var e=function(e){var o=i.buttonsBet1[e];0==e&&(i.currentBtnBet=o.node);var n=i.listBets[e];o.node.on("click",function(){if(l.default.instance.showBgMiniGame("TaiXiuOverMd5"),t.betingDoor!==r.None){null!=t.currentBtnBet&&(t.currentBtnBet.color=cc.Color.WHITE),t.currentBtnBet=o.node,t.currentBtnBet.color=(new cc.Color).fromHEX("#FFBE34");var e=t.betingDoor===r.Tai?t.lblBetTai:t.lblBetXiu,i=h.default.stringToInt(e.string)+n;i>t.maxBetValue&&(i=t.maxBetValue),e.string=h.default.formatNumber(i)}})},i=this,o=0;o<this.buttonsBet1.length;o++)e(o);this.bowl.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t.isAllowOpenBow){var i=t.bowl.position;i.x+=e.getDeltaX(),i.y+=e.getDeltaY(),t.bowl.position=i;var o=h.default.v2Distance(new cc.Vec2(i.x,i.y),t.bowlStartPos);Math.abs(o)>400&&(t.bowl.active=!1,t.isOpenBowl=!0,t.showResult(),t.showWinCash())}},this)},e.prototype.show=function(){l.default.instance.showGameMini("TaiXiuOverMd5"),l.default.instance.buttonMiniGame.showTimeTaiXiu(!1),this.layoutBet.active=!0,cc.tween(this.layoutBet).to(.5,{y:-363},{easing:cc.easing.sineOut}).start(),this.lblToast.node.parent.active=!1,this.lblWinCash.node.active=!1,this.bowl.active=!0,this.dice1.node.active=!1,this.dice2.node.active=!1,this.dice3.node.active=!1,console.log("[ MiniGameNetworkClientMD5.getInstance()]",b.default.getInstance()),b.default.getInstance().send(new g.default.SendScribe),this.showChat()},e.prototype.showChat=function(){console.log("[txmd5 Showchat]"),console.log("[txmd5 nodePanelChat]",this.nodePanelChat.getComponent(T.default)),console.log("[txmd5 PanelChat]",T.default),this.panelChat=this.nodePanelChat.getComponent(T.default),this.panelChat.show(!0)},e.prototype.dismiss=function(){for(var t=0;t<this.popups.length;t++)this.popups[t].active=!1;null!=this.panelChat&&(this.panelChat.show(!1),b.default.getInstance().send(new g.default.SendUnScribe))},e.prototype.actClose=function(){m.default.instance.dismiss()},e.prototype.actChat=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.panelChat.show(!this.panelChat.node.active)},e.prototype.actBetTai=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.isBetting?this.betingValue>=0?this.showToast(l.default.instance.getTextLang("txt_notify_fast_action")):this.betedXiu>0?this.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error4")):(this.betingDoor=r.Tai,this.lblBetTai.string="0",this.lblBetXiu.string="\u0110\u1eb6T C\u01af\u1ee2C",this.layoutBet.active=!0,cc.tween(this.layoutBet).to(.5,{y:-363},{easing:cc.easing.sineOut}).start(),this.layoutBet1.active=!0):this.showToast(l.default.instance.getTextLang("txt_bet_error3"))},e.prototype.actBetXiu=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.isBetting?this.betingValue>=0?this.showToast(l.default.instance.getTextLang("txt_notify_fast_action")):this.betedTai>0?this.showToast(l.default.instance.getTextLang("txt_taixiu_chat_error4")):(this.betingDoor=r.Xiu,this.lblBetXiu.string="0",this.lblBetTai.string="\u0110\u1eb6T C\u01af\u1ee2C",this.layoutBet.active=!0,cc.tween(this.layoutBet).to(.5,{y:-363},{easing:cc.easing.sineOut}).start(),this.layoutBet1.active=!0):this.showToast(l.default.instance.getTextLang("txt_bet_error3"))},e.prototype.actOtherNumber=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.layoutBet1.active=!1},e.prototype.actAgree=function(){if(l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.betingValue>=0||!this.canBet)this.showToast(l.default.instance.getTextLang("txt_notify_fast_action"));else if(this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu;this.betingValue=h.default.stringToInt(t.string),this.betingDoor=this.betingDoor,b.default.getInstance().send(new g.default.SendBet(this.referenceId,this.betingValue,this.betingDoor==r.Tai?1:0,this.remainTime)),t.string="0",this.canBet=!1,this.scheduleOnce(function(){this.canBet=!0},1)}},e.prototype.actCancel=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.layoutBet.y=28,this.lblBetXiu.string="\u0110\u1eb6T C\u01af\u1ee2C",this.lblBetTai.string="\u0110\u1eb6T C\u01af\u1ee2C",this.betingDoor=r.None,this.layoutBet.active=!1,this.layoutBet.y=28},e.prototype.actBtnGapDoi=function(){if(l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=h.default.stringToInt(t.string)+s.default.Login.Coin;e>this.maxBetValue&&(e=this.maxBetValue),t.string=h.default.formatNumber(e)}},e.prototype.actBtnDelete=function(){if(l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=""+h.default.stringToInt(t.string);e=e.substring(0,e.length-1),e=h.default.formatNumber(h.default.stringToInt(e)),t.string=e}},e.prototype.actBtn000=function(){if(l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.betingDoor!==r.None){var t=this.betingDoor===r.Tai?this.lblBetTai:this.lblBetXiu,e=h.default.stringToInt(t.string+"000");e>this.maxBetValue&&(e=this.maxBetValue),t.string=h.default.formatNumber(e)}},e.prototype.actNan=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),this.isNan=!this.isNan,this.btnNan.getComponent(cc.Sprite).spriteFrame=this.isNan?this.sprFrameBtnNan2:this.sprFrameBtnNan},e.prototype.actPopupHonor=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupHonor?(this.popupHonor=cc.instantiate(this.popupsPr[0]).getComponent("TaiXiuMiniMD5.PopupHonors"),this.popupHonor.node.parent=this.popupContainer,this.popupHonor.show(),this.popups.push(this.popupHonor.node),l.default.instance.showLoading(!1)):this.popupHonor.show()},e.prototype.actPopupHistory=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupHistory?(this.popupHistory=cc.instantiate(this.popupsPr[1]).getComponent("TaiXiuMiniMD5.PopupHistory"),this.popupHistory.node.parent=this.popupContainer,this.popupHistory.show(),this.popups.push(this.popupHistory.node),l.default.instance.showLoading(!1)):this.popupHistory.show()},e.prototype.actPopupGuide=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupGuide?(this.popupGuide=cc.instantiate(this.popupsPr[4]).getComponent("Dialog"),this.popupGuide.node.parent=this.popupContainer,this.popupGuide.show(),this.popups.push(this.popupGuide.node),l.default.instance.showLoading(!1)):this.popupGuide.show()},e.prototype.actPopupSoiCau=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupSoiCau?(this.popupSoiCau=cc.instantiate(this.popupsPr[3]).getComponent("TaiXiuMiniMD5.PopupSoiCau"),this.popupSoiCau.node.parent=this.popupContainer,this.popupSoiCau.show(),this.popups.push(this.popupSoiCau.node),l.default.instance.showLoading(!1)):this.popupSoiCau.show()},e.prototype.actPopupThanhDu=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupThanhDu?(this.popupThanhDu=cc.instantiate(this.popupsPr[5]).getComponent("TaiXiuMiniMD5.PopupThanhDu"),this.popupThanhDu.node.parent=this.popupContainer,this.popupThanhDu.show(),this.popups.push(this.popupThanhDu.node),l.default.instance.showLoading(!1)):this.popupThanhDu.show()},e.prototype.actPopupHistorySession=function(){l.default.instance.showBgMiniGame("TaiXiuOverMd5"),null==this.popupDetailSession?(this.popupDetailSession=cc.instantiate(this.popupsPr[2]).getComponent("TaiXiuMiniMD5.PopupDetailHistory"),this.popupDetailSession.node.parent=this.popupContainer,this.popupDetailSession.showDetail(this.sessionId-1),this.popups.push(this.popupDetailSession.node),l.default.instance.showLoading(!1)):this.popupDetailSession.showDetail(this.sessionId-1)},e.prototype.actCopyChecksum=function(){u.default.copyToClipboard(this.lblChecksum.string),this.showToast(l.default.instance.getTextLang("Copy Th\xe0nh C\xf4ng M\xe3 MD5"))},e.prototype.showResult=function(){this.lblScore.node.parent.active=!0,this.lblScore.node.active=!0,this.lblScore.string=""+this.lastScore,this.lastScore>=11?this.bgSpine.node.active=!0:this.bgSpinez.node.active=!0,this.updateBtnHistories();for(var t=0;t<this.arrTimeoutDice.length;t++)clearTimeout(this.arrTimeoutDice[t]);this.arrTimeoutDice=[]},e.prototype.stopWin=function(){this.bgSpine.node.active=!1,this.bgSpinez.node.active=!1,this.bgSpine.node.parent.getChildByName("text").active=!0},e.prototype.showToast=function(t){this.lblToast.string=t;var e=this.lblToast.node.parent;e.stopAllActions(),e.active=!0,e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(function(){e.active=!1})))},e.prototype.showWinCash=function(){var t=this;this.lastWinCash<=0||(this.soundManager.playAudioEffect(c.WIN),this.lblWinCash.node.stopAllActions(),this.lblWinCash.node.active=!0,this.lblWinCash.node.scale=0,d.default.numberTo(this.lblWinCash,this.lastWinCash,.5,function(t){return"+"+h.default.formatNumber(t)}),this.lblWinCash.node.runAction(cc.sequence(cc.scaleTo(.5,1),cc.delayTime(2),cc.moveBy(1,cc.v2(0,60)),cc.callFunc(function(){t.lblWinCash.node.active=!1}))),p.default.send(p.default.USER_UPDATE_COIN))},e.prototype.updateBtnHistories=function(){var t=this,e=this.histories.slice();e.length>this.btnHistories.childrenCount&&e.splice(0,e.length-this.btnHistories.childrenCount);for(var i,o=e.length-1,n=function(){if(o>=0){var n=o;i=e[o].dices[0]+e[o].dices[1]+e[o].dices[2],a.btnHistories.children[r].getComponent(cc.Sprite).spriteFrame=i>=11?a.sprFrameTai:a.sprFrameXiu,a.btnHistories.children[r].off("click"),a.btnHistories.children[r].on("click",function(){t.popupDetailSession.showDetail(e[n].session)}),a.btnHistories.children[r].active=!0}else a.btnHistories.children[r].active=!1;o--},a=this,r=this.btnHistories.childrenCount-1;r>=0;r--)n()},e.prototype.sendChat=function(t){var e=this;if(e.isCanChat){e.isCanChat=!1,this.scheduleOnce(function(){e.isCanChat=!0},1);var i=new g.default.SendChat(unescape(encodeURIComponent(t)));b.default.getInstance().send(i)}else this.showToast(l.default.instance.getTextLang("txt_notify_fast_action"))},e.prototype.handleJackpotWin=function(t){var e=this;this.animJP.node.active=!0,this.lbJackPot.string="0",d.default.numberTo(this.lbJackPot,t.jackpot,3),this.scheduleOnce(function(){e.animJP.node.active=!1,e.bowl.active=!1,null!=e.resultData&&e.handleResult()},4)},e.prototype.handleResult=function(){s.default.Login.Coin=this.resultData.currentMoney,this.lastWinCash=this.resultData.totalMoney,this.bowl.active||this.resultData.totalMoney>0&&this.showWinCash()},e.instance=null,a([C(cc.Node)],e.prototype,"scrollChat",void 0),a([C(cc.Node)],e.prototype,"chatNhanh",void 0),a([C(cc.Node)],e.prototype,"contentChatNhanh",void 0),a([C(sp.Skeleton)],e.prototype,"bgSpine",void 0),a([C(sp.Skeleton)],e.prototype,"bgSpinez",void 0),a([C(cc.Node)],e.prototype,"gamePlay",void 0),a([C([cc.SpriteFrame])],e.prototype,"sprDices",void 0),a([C(cc.SpriteFrame)],e.prototype,"sprFrameTai",void 0),a([C(cc.SpriteFrame)],e.prototype,"sprFrameXiu",void 0),a([C(cc.SpriteFrame)],e.prototype,"sprFrameBtnNan",void 0),a([C(cc.SpriteFrame)],e.prototype,"sprFrameBtnNan2",void 0),a([C(cc.Label)],e.prototype,"lblSession",void 0),a([C(cc.Label)],e.prototype,"lblRemainTime",void 0),a([C(cc.Label)],e.prototype,"lblRemainTime2",void 0),a([C(cc.Label)],e.prototype,"lblScore",void 0),a([C(cc.Label)],e.prototype,"lblUserTai",void 0),a([C(cc.Label)],e.prototype,"lblUserXiu",void 0),a([C(cc.Label)],e.prototype,"lblTotalBetTai",void 0),a([C(cc.Label)],e.prototype,"lblTotalBetXiu",void 0),a([C(cc.Label)],e.prototype,"lblBetTai",void 0),a([C(cc.Label)],e.prototype,"lblBetXiu",void 0),a([C(cc.Node)],e.prototype,"lblbtnbettai",void 0),a([C(cc.Node)],e.prototype,"lblbtnbetxiu",void 0),a([C(cc.Label)],e.prototype,"lblBetedTai",void 0),a([C(cc.Label)],e.prototype,"lblBetedXiu",void 0),a([C(cc.Label)],e.prototype,"lblChecksum",void 0),a([C(sp.Skeleton)],e.prototype,"dice1",void 0),a([C(sp.Skeleton)],e.prototype,"dice2",void 0),a([C(sp.Skeleton)],e.prototype,"dice3",void 0),a([C(cc.Node)],e.prototype,"bowl",void 0),a([C(cc.Node)],e.prototype,"tai",void 0),a([C(cc.Node)],e.prototype,"xiu",void 0),a([C(cc.Node)],e.prototype,"btnHistories",void 0),a([C(cc.Node)],e.prototype,"nodePanelChat",void 0),a([C(cc.Node)],e.prototype,"layoutBet",void 0),a([C(cc.Node)],e.prototype,"layoutBet1",void 0),a([C([cc.Button])],e.prototype,"buttonsBet1",void 0),a([C(cc.Label)],e.prototype,"lblToast",void 0),a([C(cc.Label)],e.prototype,"lblWinCash",void 0),a([C(cc.Node)],e.prototype,"btnNan",void 0),a([C(cc.Node)],e.prototype,"popupContainer",void 0),a([C(sp.Skeleton)],e.prototype,"animJP",void 0),a([C(cc.Label)],e.prototype,"lbJackPot",void 0),a([C(cc.Label)],e.prototype,"lbJackPotTai",void 0),a([C(cc.Label)],e.prototype,"lbJackPotXiu",void 0),a([C([cc.BitmapFont])],e.prototype,"fontTime",void 0),a([C(S)],e.prototype,"soundManager",void 0),a([C([cc.Node])],e.prototype,"popups",void 0),a([C([cc.Prefab])],e.prototype,"popupsPr",void 0),i=a([v],e)}(cc.Component);i.default=D,cc._RF.pop()},{"../../../Loading/src/Configs":void 0,"../../../Lobby/LobbyScript/Script/common/App":void 0,"../../../Lobby/LobbyScript/Script/common/BroadcastReceiver":void 0,"../../../Lobby/LobbyScript/Script/common/SPUtils":void 0,"../../../Lobby/LobbyScript/Script/common/Tween":void 0,"../../../Lobby/LobbyScript/Script/common/Utils":void 0,"../../../Lobby/LobbyScript/Script/networks/MiniGameNetworkClientMD5":void 0,"../../../Lobby/LobbyScript/Script/networks/Network.InPacket":void 0,"../src/TaiXiuDoubleMD5.Controller":"TaiXiuDoubleMD5.Controller","./TaiXiuMiniMD5.Cmd":"TaiXiuMiniMD5.Cmd","./TaiXiuMiniMD5.PanelChat":"TaiXiuMiniMD5.PanelChat"}]},{},["TaiXiuMiniMD5.Cmd","TaiXiuMiniMD5.PanelChat","TaiXiuMiniMD5.PopupDetailHistory","TaiXiuMiniMD5.PopupHistory","TaiXiuMiniMD5.PopupHonors","TaiXiuMiniMD5.PopupSoiCau","TaiXiuMiniMD5.PopupThanhDu","TaiXiuMiniMD5.TaiXiuMiniMD5Controller","TaiXiuMini2MD5.Cmd","TaiXiuMini2MD5.PanelChat","TaiXiuMini2MD5.PopupDetailHistory","TaiXiuMini2MD5.PopupHistory","TaiXiuMini2MD5.PopupHonors","TaiXiuMini2MD5.PopupSoiCau","TaiXiuMini2MD5.PopupThanhDu","TaiXiuMini2MD5.TaiXiuMiniMD5Controller","TaiXiuDoubleMD5.Controller"]);